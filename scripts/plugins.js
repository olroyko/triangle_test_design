!function(e){Array.prototype.map||(Array.prototype.map=function(e,t){var i,r,n;if(null==this)throw new TypeError(" this is null or not defined");var o=Object(this),a=o.length>>>0;if("function"!=typeof e)throw new TypeError(e+" is not a function");for(t&&(i=t),r=Array(a),n=0;a>n;){var s,h;n in o&&(s=o[n],h=e.call(i,s,n,o),r[n]=h),n++}return r});var t=e.detect=function(){var e=function(){},t={browser_parsers:[{regex:"^(Opera)/(\\d+)\\.(\\d+) \\(Nintendo Wii",family_replacement:"Wii",manufacturer:"Nintendo"},{regex:"(SeaMonkey|Camino)/(\\d+)\\.(\\d+)\\.?([ab]?\\d+[a-z]*)",family_replacement:"Camino",other:!0},{regex:"(Pale[Mm]oon)/(\\d+)\\.(\\d+)\\.?(\\d+)?",family_replacement:"Pale Moon (Firefox Variant)",other:!0},{regex:"(Fennec)/(\\d+)\\.(\\d+)\\.?([ab]?\\d+[a-z]*)",family_replacement:"Firefox Mobile"},{regex:"(Fennec)/(\\d+)\\.(\\d+)(pre)",family_replacment:"Firefox Mobile"},{regex:"(Fennec)/(\\d+)\\.(\\d+)",family_replacement:"Firefox Mobile"},{regex:"Mobile.*(Firefox)/(\\d+)\\.(\\d+)",family_replacement:"Firefox Mobile"},{regex:"(Namoroka|Shiretoko|Minefield)/(\\d+)\\.(\\d+)\\.(\\d+(?:pre)?)",family_replacement:"Firefox ($1)"},{regex:"(Firefox)/(\\d+)\\.(\\d+)(a\\d+[a-z]*)",family_replacement:"Firefox Alpha"},{regex:"(Firefox)/(\\d+)\\.(\\d+)(b\\d+[a-z]*)",family_replacement:"Firefox Beta"},{regex:"(Firefox)-(?:\\d+\\.\\d+)?/(\\d+)\\.(\\d+)(a\\d+[a-z]*)",family_replacement:"Firefox Alpha"},{regex:"(Firefox)-(?:\\d+\\.\\d+)?/(\\d+)\\.(\\d+)(b\\d+[a-z]*)",family_replacement:"Firefox Beta"},{regex:"(Namoroka|Shiretoko|Minefield)/(\\d+)\\.(\\d+)([ab]\\d+[a-z]*)?",family_replacement:"Firefox ($1)"},{regex:"(Firefox).*Tablet browser (\\d+)\\.(\\d+)\\.(\\d+)",family_replacement:"MicroB",tablet:!0},{regex:"(MozillaDeveloperPreview)/(\\d+)\\.(\\d+)([ab]\\d+[a-z]*)?"},{regex:"(Flock)/(\\d+)\\.(\\d+)(b\\d+?)",family_replacement:"Flock",other:!0},{regex:"(RockMelt)/(\\d+)\\.(\\d+)\\.(\\d+)",family_replacement:"Rockmelt",other:!0},{regex:"(Navigator)/(\\d+)\\.(\\d+)\\.(\\d+)",family_replacement:"Netscape"},{regex:"(Navigator)/(\\d+)\\.(\\d+)([ab]\\d+)",family_replacement:"Netscape"},{regex:"(Netscape6)/(\\d+)\\.(\\d+)\\.(\\d+)",family_replacement:"Netscape"},{regex:"(MyIBrow)/(\\d+)\\.(\\d+)",family_replacement:"My Internet Browser",other:!0},{regex:"(Opera Tablet).*Version/(\\d+)\\.(\\d+)(?:\\.(\\d+))?",family_replacement:"Opera Tablet",tablet:!0},{regex:"(Opera)/.+Opera Mobi.+Version/(\\d+)\\.(\\d+)",family_replacement:"Opera Mobile"},{regex:"Opera Mobi",family_replacement:"Opera Mobile"},{regex:"(Opera Mini)/(\\d+)\\.(\\d+)",family_replacement:"Opera Mini"},{regex:"(Opera Mini)/att/(\\d+)\\.(\\d+)",family_replacement:"Opera Mini"},{regex:"(Opera)/9.80.*Version/(\\d+)\\.(\\d+)(?:\\.(\\d+))?",family_replacement:"Opera"},{regex:"(OPR)/(\\d+)\\.(\\d+)(?:\\.(\\d+))?",family_replacement:"Opera"},{regex:"(webOSBrowser)/(\\d+)\\.(\\d+)",family_replacement:"webOS"},{regex:"(webOS)/(\\d+)\\.(\\d+)",family_replacement:"webOS"},{regex:"(wOSBrowser).+TouchPad/(\\d+)\\.(\\d+)",family_replacement:"webOS TouchPad"},{regex:"(luakit)",family_replacement:"LuaKit",other:!0},{regex:"(Lightning)/(\\d+)\\.(\\d+)([ab]?\\d+[a-z]*)",family_replacement:"Lightning",other:!0},{regex:"(Firefox)/(\\d+)\\.(\\d+)\\.(\\d+(?:pre)?) \\(Swiftfox\\)",family_replacement:"Swiftfox",other:!0},{regex:"(Firefox)/(\\d+)\\.(\\d+)([ab]\\d+[a-z]*)? \\(Swiftfox\\)",family_replacement:"Swiftfox",other:!0},{regex:"rekonq",family_replacement:"Rekonq",other:!0},{regex:"(conkeror|Conkeror)/(\\d+)\\.(\\d+)\\.?(\\d+)?",family_replacement:"Conkeror",other:!0},{regex:"(konqueror)/(\\d+)\\.(\\d+)\\.(\\d+)",family_replacement:"Konqueror",other:!0},{regex:"(WeTab)-Browser",family_replacement:"WeTab",other:!0},{regex:"(Comodo_Dragon)/(\\d+)\\.(\\d+)\\.(\\d+)",family_replacement:"Comodo Dragon",other:!0},{regex:"(YottaaMonitor)",family_replacement:"Yottaa Monitor",other:!0},{regex:"(Kindle)/(\\d+)\\.(\\d+)",family_replacement:"Kindle"},{regex:"(Symphony) (\\d+).(\\d+)",family_replacement:"Symphony",other:!0},{regex:"Minimo",family_replacement:"Minimo",other:!0},{regex:"(Edge)/(\\d+)\\.(\\d+)",family_replacement:"Edge"},{regex:"(CrMo)/(\\d+)\\.(\\d+)\\.(\\d+)\\.(\\d+)",family_replacement:"Chrome Mobile"},{regex:"(CriOS)/(\\d+)\\.(\\d+)\\.(\\d+)\\.(\\d+)",family_replacement:"Chrome Mobile iOS"},{regex:"(Chrome)/(\\d+)\\.(\\d+)\\.(\\d+)\\.(\\d+) Mobile",family_replacement:"Chrome Mobile"},{regex:"(chromeframe)/(\\d+)\\.(\\d+)\\.(\\d+)",family_replacement:"Chrome Frame"},{regex:"(UC Browser)(\\d+)\\.(\\d+)\\.(\\d+)",family_replacement:"UC Browser",other:!0},{regex:"(SLP Browser)/(\\d+)\\.(\\d+)",family_replacement:"Tizen Browser",other:!0},{regex:"(Epiphany)/(\\d+)\\.(\\d+).(\\d+)",family_replacement:"Epiphany",other:!0},{regex:"(SE 2\\.X) MetaSr (\\d+)\\.(\\d+)",family_replacement:"Sogou Explorer",other:!0},{regex:"(Pingdom.com_bot_version_)(\\d+)\\.(\\d+)",family_replacement:"PingdomBot",other:!0},{regex:"(facebookexternalhit)/(\\d+)\\.(\\d+)",family_replacement:"FacebookBot"},{regex:"(Twitterbot)/(\\d+)\\.(\\d+)",family_replacement:"TwitterBot"},{regex:"(AdobeAIR|Chromium|FireWeb|Jasmine|ANTGalio|Midori|Fresco|Lobo|PaleMoon|Maxthon|Lynx|OmniWeb|Dillo|Camino|Demeter|Fluid|Fennec|Shiira|Sunrise|Chrome|Flock|Netscape|Lunascape|WebPilot|NetFront|Netfront|Konqueror|SeaMonkey|Kazehakase|Vienna|Iceape|Iceweasel|IceWeasel|Iron|K-Meleon|Sleipnir|Galeon|GranParadiso|Opera Mini|iCab|NetNewsWire|ThunderBrowse|Iron|Iris|UP\\.Browser|Bunjaloo|Google Earth|Raven for Mac)/(\\d+)\\.(\\d+)\\.(\\d+)"},{regex:"(Bolt|Jasmine|IceCat|Skyfire|Midori|Maxthon|Lynx|Arora|IBrowse|Dillo|Camino|Shiira|Fennec|Phoenix|Chrome|Flock|Netscape|Lunascape|Epiphany|WebPilot|Opera Mini|Opera|NetFront|Netfront|Konqueror|Googlebot|SeaMonkey|Kazehakase|Vienna|Iceape|Iceweasel|IceWeasel|Iron|K-Meleon|Sleipnir|Galeon|GranParadiso|iCab|NetNewsWire|Iron|Space Bison|Stainless|Orca|Dolfin|BOLT|Minimo|Tizen Browser|Polaris)/(\\d+)\\.(\\d+)"},{regex:"(iRider|Crazy Browser|SkipStone|iCab|Lunascape|Sleipnir|Maemo Browser) (\\d+)\\.(\\d+)\\.(\\d+)"},{regex:"(iCab|Lunascape|Opera|Android|Jasmine|Polaris|BREW) (\\d+)\\.(\\d+)\\.?(\\d+)?"},{regex:"(Android) Donut",v2_replacement:"2",v1_replacement:"1"},{regex:"(Android) Eclair",v2_replacement:"1",v1_replacement:"2"},{regex:"(Android) Froyo",v2_replacement:"2",v1_replacement:"2"},{regex:"(Android) Gingerbread",v2_replacement:"3",v1_replacement:"2"},{regex:"(Android) Honeycomb",v1_replacement:"3"},{regex:"(IEMobile)[ /](\\d+)\\.(\\d+)",family_replacement:"IE Mobile"},{regex:"(MSIE) (\\d+)\\.(\\d+).*XBLWP7",family_replacement:"IE Large Screen"},{regex:"(Firefox)/(\\d+)\\.(\\d+)\\.(\\d+)"},{regex:"(Firefox)/(\\d+)\\.(\\d+)(pre|[ab]\\d+[a-z]*)?"},{regex:"(Obigo)InternetBrowser",other:!0},{regex:"(Obigo)\\-Browser",other:!0},{regex:"(Obigo|OBIGO)[^\\d]*(\\d+)(?:.(\\d+))?",other:!0},{regex:"(MAXTHON|Maxthon) (\\d+)\\.(\\d+)",family_replacement:"Maxthon",other:!0},{regex:"(Maxthon|MyIE2|Uzbl|Shiira)",v1_replacement:"0",other:!0},{regex:"(PLAYSTATION) (\\d+)",family_replacement:"PlayStation",manufacturer:"Sony"},{regex:"(PlayStation Portable)[^\\d]+(\\d+).(\\d+)",manufacturer:"Sony"},{regex:"(BrowseX) \\((\\d+)\\.(\\d+)\\.(\\d+)",other:!0},{regex:"(POLARIS)/(\\d+)\\.(\\d+)",family_replacement:"Polaris",other:!0},{regex:"(Embider)/(\\d+)\\.(\\d+)",family_replacement:"Polaris",other:!0},{regex:"(BonEcho)/(\\d+)\\.(\\d+)\\.(\\d+)",family_replacement:"Bon Echo",other:!0},{regex:"(iPod).+Version/(\\d+)\\.(\\d+)\\.(\\d+)",family_replacement:"Mobile Safari",manufacturer:"Apple"},{regex:"(iPod).*Version/(\\d+)\\.(\\d+)",family_replacement:"Mobile Safari",manufacturer:"Apple"},{regex:"(iPod)",family_replacement:"Mobile Safari",manufacturer:"Apple"},{regex:"(iPhone).*Version/(\\d+)\\.(\\d+)\\.(\\d+)",family_replacement:"Mobile Safari",manufacturer:"Apple"},{regex:"(iPhone).*Version/(\\d+)\\.(\\d+)",family_replacement:"Mobile Safari",manufacturer:"Apple"},{regex:"(iPhone)",family_replacement:"Mobile Safari",manufacturer:"Apple"},{regex:"(iPad).*Version/(\\d+)\\.(\\d+)\\.(\\d+)",family_replacement:"Mobile Safari",tablet:!0,manufacturer:"Apple"},{regex:"(iPad).*Version/(\\d+)\\.(\\d+)",family_replacement:"Mobile Safari",tablet:!0,manufacturer:"Apple"},{regex:"(iPad)",family_replacement:"Mobile Safari",tablet:!0,manufacturer:"Apple"},{regex:"(AvantGo) (\\d+).(\\d+)",other:!0},{regex:"(Avant)",v1_replacement:"1",other:!0},{regex:"^(Nokia)",family_replacement:"Nokia Services (WAP) Browser",manufacturer:"Nokia"},{regex:"(NokiaBrowser)/(\\d+)\\.(\\d+).(\\d+)\\.(\\d+)",manufacturer:"Nokia"},{regex:"(NokiaBrowser)/(\\d+)\\.(\\d+).(\\d+)",manufacturer:"Nokia"},{regex:"(NokiaBrowser)/(\\d+)\\.(\\d+)",manufacturer:"Nokia"},{regex:"(BrowserNG)/(\\d+)\\.(\\d+).(\\d+)",family_replacement:"NokiaBrowser",manufacturer:"Nokia"},{regex:"(Series60)/5\\.0",v2_replacement:"0",v1_replacement:"7",family_replacement:"NokiaBrowser",manufacturer:"Nokia"},{regex:"(Series60)/(\\d+)\\.(\\d+)",family_replacement:"Nokia OSS Browser",manufacturer:"Nokia"},{regex:"(S40OviBrowser)/(\\d+)\\.(\\d+)\\.(\\d+)\\.(\\d+)",family_replacement:"Nokia Series 40 Ovi Browser",manufacturer:"Nokia"},{regex:"(Nokia)[EN]?(\\d+)",manufacturer:"Nokia"},{regex:"(PlayBook).+RIM Tablet OS (\\d+)\\.(\\d+)\\.(\\d+)",family_replacement:"Blackberry WebKit",tablet:!0,manufacturer:"Nokia"},{regex:"(Black[bB]erry).+Version/(\\d+)\\.(\\d+)\\.(\\d+)",family_replacement:"Blackberry WebKit",manufacturer:"RIM"},{regex:"(Black[bB]erry)\\s?(\\d+)",family_replacement:"Blackberry",manufacturer:"RIM"},{regex:"(OmniWeb)/v(\\d+)\\.(\\d+)",other:!0},{regex:"(Blazer)/(\\d+)\\.(\\d+)",family_replacement:"Palm Blazer",manufacturer:"Palm"},{regex:"(Pre)/(\\d+)\\.(\\d+)",family_replacement:"Palm Pre",manufacturer:"Palm"},{regex:"(Links) \\((\\d+)\\.(\\d+)",other:!0},{regex:"(QtWeb) Internet Browser/(\\d+)\\.(\\d+)",other:!0},{regex:"(Silk)/(\\d+)\\.(\\d+)(?:\\.([0-9\\-]+))?",other:!0,tablet:!0},{regex:"(AppleWebKit)/(\\d+)\\.?(\\d+)?\\+ .* Version/\\d+\\.\\d+.\\d+ Safari/",family_replacement:"WebKit Nightly"},{regex:"(Version)/(\\d+)\\.(\\d+)(?:\\.(\\d+))?.*Safari/",family_replacement:"Safari"},{regex:"(Safari)/\\d+"},{regex:"(OLPC)/Update(\\d+)\\.(\\d+)",other:!0},{regex:"(OLPC)/Update()\\.(\\d+)",v1_replacement:"0",other:!0},{regex:"(SEMC\\-Browser)/(\\d+)\\.(\\d+)",other:!0},{regex:"(Teleca)",family_replacement:"Teleca Browser",other:!0},{regex:"Trident(.*)rv.(\\d+)\\.(\\d+)",family_replacement:"IE"},{regex:"(MSIE) (\\d+)\\.(\\d+)",family_replacement:"IE"}],os_parsers:[{regex:"(Android) (\\d+)\\.(\\d+)(?:[.\\-]([a-z0-9]+))?"},{regex:"(Android)\\-(\\d+)\\.(\\d+)(?:[.\\-]([a-z0-9]+))?"},{regex:"(Android) Donut",os_v2_replacement:"2",os_v1_replacement:"1"},{regex:"(Android) Eclair",os_v2_replacement:"1",os_v1_replacement:"2"},{regex:"(Android) Froyo",os_v2_replacement:"2",os_v1_replacement:"2"},{regex:"(Android) Gingerbread",os_v2_replacement:"3",os_v1_replacement:"2"},{regex:"(Android) Honeycomb",os_v1_replacement:"3"},{regex:"(Silk-Accelerated=[a-z]{4,5})",os_replacement:"Android"},{regex:"(Windows Phone 6\\.5)"},{regex:"(Windows (?:NT 5\\.2|NT 5\\.1))",os_replacement:"Windows XP"},{regex:"(XBLWP7)",os_replacement:"Windows Phone OS"},{regex:"(Windows NT 6\\.1)",os_replacement:"Windows 7"},{regex:"(Windows NT 6\\.0)",os_replacement:"Windows Vista"},{regex:"(Windows 98|Windows XP|Windows ME|Windows 95|Windows CE|Windows 7|Windows NT 4\\.0|Windows Vista|Windows 2000)"},{regex:"(Windows NT 6\\.4|Windows NT 10\\.0)",os_replacement:"Windows 10"},{regex:"(Windows NT 6\\.2)",os_replacement:"Windows 8"},{regex:"(Windows Phone 8)",os_replacement:"Windows Phone 8"},{regex:"(Windows NT 5\\.0)",os_replacement:"Windows 2000"},{regex:"(Windows Phone OS) (\\d+)\\.(\\d+)"},{regex:"(Windows ?Mobile)",os_replacement:"Windows Mobile"},{regex:"(WinNT4.0)",os_replacement:"Windows NT 4.0"},{regex:"(Win98)",os_replacement:"Windows 98"},{regex:"(Tizen)/(\\d+)\\.(\\d+)",other:!0},{regex:"(Mac OS X) (\\d+)[_.](\\d+)(?:[_.](\\d+))?",manufacturer:"Apple"},{regex:"(?:PPC|Intel) (Mac OS X)",manufacturer:"Apple"},{regex:"(CPU OS|iPhone OS) (\\d+)_(\\d+)(?:_(\\d+))?",os_replacement:"iOS",manufacturer:"Apple"},{regex:"(iPhone|iPad|iPod); Opera",os_replacement:"iOS",manufacturer:"Apple"},{regex:"(iPad); Opera",tablet:!0,manufacturer:"Apple"},{regex:"(iPhone|iPad|iPod).*Mac OS X.*Version/(\\d+)\\.(\\d+)",os_replacement:"iOS",manufacturer:"Apple"},{regex:"(CrOS) [a-z0-9_]+ (\\d+)\\.(\\d+)(?:\\.(\\d+))?",os_replacement:"Chrome OS"},{regex:"(Debian)-(\\d+)\\.(\\d+)\\.(\\d+)(?:\\.(\\d+))?",other:!0},{regex:"(Linux Mint)(?:/(\\d+))?",other:!0},{regex:"(Mandriva)(?: Linux)?/(\\d+)\\.(\\d+)\\.(\\d+)(?:\\.(\\d+))?",other:!0},{regex:"(Symbian[Oo][Ss])/(\\d+)\\.(\\d+)",os_replacement:"Symbian OS"},{regex:"(Symbian/3).+NokiaBrowser/7\\.3",os_replacement:"Symbian^3 Anna"},{regex:"(Symbian/3).+NokiaBrowser/7\\.4",os_replacement:"Symbian^3 Belle"},{regex:"(Symbian/3)",os_replacement:"Symbian^3"},{regex:"(Series 60|SymbOS|S60)",os_replacement:"Symbian OS"},{regex:"(MeeGo)",other:!0},{regex:"Symbian [Oo][Ss]",os_replacement:"Symbian OS"},{regex:"(Black[Bb]erry)[0-9a-z]+/(\\d+)\\.(\\d+)\\.(\\d+)(?:\\.(\\d+))?",os_replacement:"BlackBerry OS",manufacturer:"RIM"},{regex:"(Black[Bb]erry).+Version/(\\d+)\\.(\\d+)\\.(\\d+)(?:\\.(\\d+))?",os_replacement:"BlackBerry OS",manufacturer:"RIM"},{regex:"(RIM Tablet OS) (\\d+)\\.(\\d+)\\.(\\d+)",os_replacement:"BlackBerry Tablet OS",tablet:!0,manufacturer:"RIM"},{regex:"(Play[Bb]ook)",os_replacement:"BlackBerry Tablet OS",tablet:!0,manufacturer:"RIM"},{regex:"(Black[Bb]erry)",os_replacement:"Blackberry OS",manufacturer:"RIM"},{regex:"(webOS|hpwOS)/(\\d+)\\.(\\d+)(?:\\.(\\d+))?",os_replacement:"webOS"},{regex:"(SUSE|Fedora|Red Hat|PCLinuxOS)/(\\d+)\\.(\\d+)\\.(\\d+)\\.(\\d+)",other:!0},{regex:"(SUSE|Fedora|Red Hat|Puppy|PCLinuxOS|CentOS)/(\\d+)\\.(\\d+)\\.(\\d+)",other:!0},{regex:"(Ubuntu|Kindle|Bada|Lubuntu|BackTrack|Red Hat|Slackware)/(\\d+)\\.(\\d+)"},{regex:"(Windows|OpenBSD|FreeBSD|NetBSD|Ubuntu|Kubuntu|Android|Arch Linux|CentOS|WeTab|Slackware)"},{regex:"(Linux|BSD)",other:!0}],mobile_os_families:["Windows Phone 6.5","Windows CE","Symbian OS"],device_parsers:[{regex:"HTC ([A-Z][a-z0-9]+) Build",device_replacement:"HTC $1",manufacturer:"HTC"},{regex:"HTC ([A-Z][a-z0-9 ]+) \\d+\\.\\d+\\.\\d+\\.\\d+",device_replacement:"HTC $1",manufacturer:"HTC"},{regex:"HTC_Touch_([A-Za-z0-9]+)",device_replacement:"HTC Touch ($1)",manufacturer:"HTC"},{regex:"USCCHTC(\\d+)",device_replacement:"HTC $1 (US Cellular)",manufacturer:"HTC"},{regex:"Sprint APA(9292)",device_replacement:"HTC $1 (Sprint)",manufacturer:"HTC"},{regex:"HTC ([A-Za-z0-9]+ [A-Z])",device_replacement:"HTC $1",manufacturer:"HTC"},{regex:"HTC-([A-Za-z0-9]+)",device_replacement:"HTC $1",manufacturer:"HTC"},{regex:"HTC_([A-Za-z0-9]+)",device_replacement:"HTC $1",manufacturer:"HTC"},{regex:"HTC ([A-Za-z0-9]+)",device_replacement:"HTC $1",manufacturer:"HTC"},{regex:"(ADR[A-Za-z0-9]+)",device_replacement:"HTC $1",manufacturer:"HTC"},{regex:"(HTC)",manufacturer:"HTC"},{regex:"SonyEricsson([A-Za-z0-9]+)/",device_replacement:"Ericsson $1",other:!0,manufacturer:"Sony"},{regex:"Android[\\- ][\\d]+\\.[\\d]+\\; [A-Za-z]{2}\\-[A-Za-z]{2}\\; WOWMobile (.+) Build"},{regex:"Android[\\- ][\\d]+\\.[\\d]+\\.[\\d]+; [A-Za-z]{2}\\-[A-Za-z]{2}\\; (.+) Build"},{regex:"Android[\\- ][\\d]+\\.[\\d]+\\-update1\\; [A-Za-z]{2}\\-[A-Za-z]{2}\\; (.+) Build"},{regex:"Android[\\- ][\\d]+\\.[\\d]+\\; [A-Za-z]{2}\\-[A-Za-z]{2}\\; (.+) Build"},{regex:"Android[\\- ][\\d]+\\.[\\d]+\\.[\\d]+; (.+) Build"},{regex:"NokiaN([0-9]+)",device_replacement:"Nokia N$1",manufacturer:"Nokia"},{regex:"Nokia([A-Za-z0-9\\v-]+)",device_replacement:"Nokia $1",manufacturer:"Nokia"},{regex:"NOKIA ([A-Za-z0-9\\-]+)",device_replacement:"Nokia $1",manufacturer:"Nokia"},{regex:"Nokia ([A-Za-z0-9\\-]+)",device_replacement:"Nokia $1",manufacturer:"Nokia"},{regex:"Lumia ([A-Za-z0-9\\-]+)",device_replacement:"Lumia $1",manufacturer:"Nokia"},{regex:"Symbian",device_replacement:"Nokia",manufacturer:"Nokia"},{regex:"(PlayBook).+RIM Tablet OS",device_replacement:"Blackberry Playbook",tablet:!0,manufacturer:"RIM"},{regex:"(Black[Bb]erry [0-9]+);",manufacturer:"RIM"},{regex:"Black[Bb]erry([0-9]+)",device_replacement:"BlackBerry $1",manufacturer:"RIM"},{regex:"(Pre)/(\\d+)\\.(\\d+)",device_replacement:"Palm Pre",manufacturer:"Palm"},{regex:"(Pixi)/(\\d+)\\.(\\d+)",device_replacement:"Palm Pixi",manufacturer:"Palm"},{regex:"(Touchpad)/(\\d+)\\.(\\d+)",device_replacement:"HP Touchpad",manufacturer:"HP"},{regex:"HPiPAQ([A-Za-z0-9]+)/(\\d+).(\\d+)",device_replacement:"HP iPAQ $1",manufacturer:"HP"},{regex:"Palm([A-Za-z0-9]+)",device_replacement:"Palm $1",manufacturer:"Palm"},{regex:"Treo([A-Za-z0-9]+)",device_replacement:"Palm Treo $1",manufacturer:"Palm"},{regex:"webOS.*(P160UNA)/(\\d+).(\\d+)",device_replacement:"HP Veer",manufacturer:"HP"},{regex:"(Kindle Fire)",manufacturer:"Amazon"},{regex:"(Kindle)",manufacturer:"Amazon"},{regex:"(Silk)/(\\d+)\\.(\\d+)(?:\\.([0-9\\-]+))?",device_replacement:"Kindle Fire",tablet:!0,manufacturer:"Amazon"},{regex:"(iPad) Simulator;",manufacturer:"Apple"},{regex:"(iPad);",manufacturer:"Apple"},{regex:"(iPod);",manufacturer:"Apple"},{regex:"(iPhone) Simulator;",manufacturer:"Apple"},{regex:"(iPhone);",manufacturer:"Apple"},{regex:"Nexus\\ ([A-Za-z0-9\\-]+)",device_replacement:"Nexus $1"},{regex:"acer_([A-Za-z0-9]+)_",device_replacement:"Acer $1",manufacturer:"Acer"},{regex:"acer_([A-Za-z0-9]+)_",device_replacement:"Acer $1",manufacturer:"Acer"},{regex:"Amoi\\-([A-Za-z0-9]+)",device_replacement:"Amoi $1",other:!0,manufacturer:"Amoi"},{regex:"AMOI\\-([A-Za-z0-9]+)",device_replacement:"Amoi $1",other:!0,manufacturer:"Amoi"},{regex:"Asus\\-([A-Za-z0-9]+)",device_replacement:"Asus $1",manufacturer:"Asus"},{regex:"ASUS\\-([A-Za-z0-9]+)",device_replacement:"Asus $1",manufacturer:"Asus"},{regex:"BIRD\\-([A-Za-z0-9]+)",device_replacement:"Bird $1",other:!0},{regex:"BIRD\\.([A-Za-z0-9]+)",device_replacement:"Bird $1",other:!0},{regex:"BIRD ([A-Za-z0-9]+)",device_replacement:"Bird $1",other:!0},{regex:"Dell ([A-Za-z0-9]+)",device_replacement:"Dell $1",manufacturer:"Dell"},{regex:"DoCoMo/2\\.0 ([A-Za-z0-9]+)",device_replacement:"DoCoMo $1",other:!0},{regex:"([A-Za-z0-9]+)\\_W\\;FOMA",device_replacement:"DoCoMo $1",other:!0},{regex:"([A-Za-z0-9]+)\\;FOMA",device_replacement:"DoCoMo $1",other:!0},{regex:"vodafone([A-Za-z0-9]+)",device_replacement:"Huawei Vodafone $1",other:!0},{regex:"i\\-mate ([A-Za-z0-9]+)",device_replacement:"i-mate $1",other:!0},{regex:"Kyocera\\-([A-Za-z0-9]+)",device_replacement:"Kyocera $1",other:!0},{regex:"KWC\\-([A-Za-z0-9]+)",device_replacement:"Kyocera $1",other:!0},{regex:"Lenovo\\-([A-Za-z0-9]+)",device_replacement:"Lenovo $1",manufacturer:"Lenovo"},{regex:"Lenovo\\_([A-Za-z0-9]+)",device_replacement:"Lenovo $1",manufacturer:"Levovo"},{regex:"LG/([A-Za-z0-9]+)",device_replacement:"LG $1",manufacturer:"LG"},{regex:"LG-LG([A-Za-z0-9]+)",device_replacement:"LG $1",manufacturer:"LG"},{regex:"LGE-LG([A-Za-z0-9]+)",device_replacement:"LG $1",manufacturer:"LG"},{regex:"LGE VX([A-Za-z0-9]+)",device_replacement:"LG $1",manufacturer:"LG"},{regex:"LG ([A-Za-z0-9]+)",device_replacement:"LG $1",manufacturer:"LG"},{regex:"LGE LG\\-AX([A-Za-z0-9]+)",device_replacement:"LG $1",manufacturer:"LG"},{regex:"LG\\-([A-Za-z0-9]+)",device_replacement:"LG $1",manufacturer:"LG"},{regex:"LGE\\-([A-Za-z0-9]+)",device_replacement:"LG $1",manufacturer:"LG"},{regex:"LG([A-Za-z0-9]+)",device_replacement:"LG $1",manufacturer:"LG"},{regex:"(KIN)\\.One (\\d+)\\.(\\d+)",device_replacement:"Microsoft $1"},{regex:"(KIN)\\.Two (\\d+)\\.(\\d+)",device_replacement:"Microsoft $1"},{regex:"(Motorola)\\-([A-Za-z0-9]+)",manufacturer:"Motorola"},{regex:"MOTO\\-([A-Za-z0-9]+)",device_replacement:"Motorola $1",manufacturer:"Motorola"},{regex:"MOT\\-([A-Za-z0-9]+)",device_replacement:"Motorola $1",manufacturer:"Motorola"},{regex:"Philips([A-Za-z0-9]+)",device_replacement:"Philips $1",manufacturer:"Philips"},{regex:"Philips ([A-Za-z0-9]+)",device_replacement:"Philips $1",manufacturer:"Philips"},{regex:"SAMSUNG-([A-Za-z0-9\\-]+)",device_replacement:"Samsung $1",manufacturer:"Samsung"},{regex:"SAMSUNG\\; ([A-Za-z0-9\\-]+)",device_replacement:"Samsung $1",manufacturer:"Samsung"},{regex:"Softbank/1\\.0/([A-Za-z0-9]+)",device_replacement:"Softbank $1",other:!0},{regex:"Softbank/2\\.0/([A-Za-z0-9]+)",device_replacement:"Softbank $1",other:!0},{regex:"(hiptop|avantgo|plucker|xiino|blazer|elaine|up.browser|up.link|mmp|smartphone|midp|wap|vodafone|o2|pocket|mobile|pda)",device_replacement:"Generic Smartphone"},{regex:"^(1207|3gso|4thp|501i|502i|503i|504i|505i|506i|6310|6590|770s|802s|a wa|acer|acs\\-|airn|alav|asus|attw|au\\-m|aur |aus |abac|acoo|aiko|alco|alca|amoi|anex|anny|anyw|aptu|arch|argo|bell|bird|bw\\-n|bw\\-u|beck|benq|bilb|blac|c55/|cdm\\-|chtm|capi|comp|cond|craw|dall|dbte|dc\\-s|dica|ds\\-d|ds12|dait|devi|dmob|doco|dopo|el49|erk0|esl8|ez40|ez60|ez70|ezos|ezze|elai|emul|eric|ezwa|fake|fly\\-|fly\\_|g\\-mo|g1 u|g560|gf\\-5|grun|gene|go.w|good|grad|hcit|hd\\-m|hd\\-p|hd\\-t|hei\\-|hp i|hpip|hs\\-c|htc |htc\\-|htca|htcg)",device_replacement:"Generic Feature Phone"},{regex:"^(htcp|htcs|htct|htc\\_|haie|hita|huaw|hutc|i\\-20|i\\-go|i\\-ma|i230|iac|iac\\-|iac/|ig01|im1k|inno|iris|jata|java|kddi|kgt|kgt/|kpt |kwc\\-|klon|lexi|lg g|lg\\-a|lg\\-b|lg\\-c|lg\\-d|lg\\-f|lg\\-g|lg\\-k|lg\\-l|lg\\-m|lg\\-o|lg\\-p|lg\\-s|lg\\-t|lg\\-u|lg\\-w|lg/k|lg/l|lg/u|lg50|lg54|lge\\-|lge/|lynx|leno|m1\\-w|m3ga|m50/|maui|mc01|mc21|mcca|medi|meri|mio8|mioa|mo01|mo02|mode|modo|mot |mot\\-|mt50|mtp1|mtv |mate|maxo|merc|mits|mobi|motv|mozz|n100|n101|n102|n202|n203|n300|n302|n500|n502|n505|n700|n701|n710|nec\\-|nem\\-|newg|neon)",device_replacement:"Generic Feature Phone"},{regex:"^(netf|noki|nzph|o2 x|o2\\-x|opwv|owg1|opti|oran|ot\\-s|p800|pand|pg\\-1|pg\\-2|pg\\-3|pg\\-6|pg\\-8|pg\\-c|pg13|phil|pn\\-2|pt\\-g|palm|pana|pire|pock|pose|psio|qa\\-a|qc\\-2|qc\\-3|qc\\-5|qc\\-7|qc07|qc12|qc21|qc32|qc60|qci\\-|qwap|qtek|r380|r600|raks|rim9|rove|s55/|sage|sams|sc01|sch\\-|scp\\-|sdk/|se47|sec\\-|sec0|sec1|semc|sgh\\-|shar|sie\\-|sk\\-0|sl45|slid|smb3|smt5|sp01|sph\\-|spv |spv\\-|sy01|samm|sany|sava|scoo|send|siem|smar|smit|soft|sony|t\\-mo|t218|t250|t600|t610|t618|tcl\\-|tdg\\-|telm|tim\\-|ts70|tsm\\-|tsm3|tsm5|tx\\-9|tagt)",device_replacement:"Generic Feature Phone"},{regex:"^(talk|teli|topl|tosh|up.b|upg1|utst|v400|v750|veri|vk\\-v|vk40|vk50|vk52|vk53|vm40|vx98|virg|vite|voda|vulc|w3c |w3c\\-|wapj|wapp|wapu|wapm|wig |wapi|wapr|wapv|wapy|wapa|waps|wapt|winc|winw|wonu|x700|xda2|xdag|yas\\-|your|zte\\-|zeto|aste|audi|avan|blaz|brew|brvw|bumb|ccwa|cell|cldc|cmd\\-|dang|eml2|fetc|hipt|http|ibro|idea|ikom|ipaq|jbro|jemu|jigs|keji|kyoc|kyok|libw|m\\-cr|midp|mmef|moto|mwbp|mywa|newt|nok6|o2im|pant|pdxg|play|pluc|port|prox|rozo|sama|seri|smal|symb|treo|upsi|vx52|vx53|vx60|vx61|vx70|vx80|vx81|vx83|vx85|wap\\-|webc|whit|wmlb|xda\\-|xda\\_)",device_replacement:"Generic Feature Phone"},{regex:"(bot|borg|google(^tv)|yahoo|slurp|msnbot|msrbot|openbot|archiver|netresearch|lycos|scooter|altavista|teoma|gigabot|baiduspider|blitzbot|oegp|charlotte|furlbot|http%20client|polybot|htdig|ichiro|mogimogi|larbin|pompos|scrubby|searchsight|seekbot|semanticdiscovery|silk|snappy|speedy|spider|voila|vortex|voyager|zao|zeal|fast\\-webcrawler|converacrawler|dataparksearch|findlinks)",device_replacement:"Spider"}],mobile_browser_families:["Firefox Mobile","Opera Mobile","Opera Mini","Mobile Safari","webOS","IE Mobile","Playstation Portable","Nokia","Blackberry","Palm","Silk","Android","Maemo","Obigo","Netfront","AvantGo","Teleca","SEMC-Browser","Bolt","Iris","UP.Browser","Symphony","Minimo","Bunjaloo","Jasmine","Dolfin","Polaris","BREW","Chrome Mobile","Chrome Mobile iOS","UC Browser","Tizen Browser"]};e.parsers=["device_parsers","browser_parsers","os_parsers","mobile_os_families","mobile_browser_families"],e.types=["browser","os","device"],e.regexes=t||function(){var t={};return e.parsers.map(function(e){t[e]=[]}),t}(),e.families=function(){var t={};return e.types.map(function(e){t[e]=[]}),t}();var i=Array.prototype,r=(Object.prototype,Function.prototype,i.forEach);i.indexOf;var n=function(e,t){for(var i={},r=0;t.length>r&&!(i=t[r](e));r++);return i},o=function(e,t){a(e,function(e){a(t,function(t){delete e[t]})})},a=forEach=function(e,t,i){if(null!=e)if(r&&e.forEach===r)e.forEach(t,i);else if(e.length===+e.length)for(var n=0,o=e.length;o>n;n++)t.call(i,e[n],n,e);else for(var a in e)_.has(e,a)&&t.call(i,e[a],a,e)},s=function(e){return!(!e||void 0===e||null==e)},h=function(e){var t="";return e=e||{},s(e)&&s(e.major)&&(t+=e.major,s(e.minor)&&(t+="."+e.minor,s(e.patch)&&(t+="."+e.patch))),t},l=function(e){e=e||{};var t=h(e);return t&&(t=" "+t),e&&s(e.family)?e.family+t:""};return e.parse=function(t){var i=function(t){return e.regexes[t+"_parsers"].map(function(e){function i(t){var i=t.match(r);if(!i)return null;var a={};return a.family=(n?n.replace("$1",i[1]):i[1])||"other",a.major=parseInt(o?o:i[2])||null,a.minor=i[3]?parseInt(i[3]):null,a.patch=i[4]?parseInt(i[4]):null,a.tablet=e.tablet,a.man=e.manufacturer||null,a}var r=RegExp(e.regex),n=e[("browser"===t?"family":t)+"_replacement"],o=e.major_version_replacement;return i})},r=function(){},a=i("browser"),c=i("os"),u=i("device"),d=new r;d.source=t,d.browser=n(t,a),s(d.browser)?(d.browser.name=l(d.browser),d.browser.version=h(d.browser)):d.browser={},d.os=n(t,c),s(d.os)?(d.os.name=l(d.os),d.os.version=h(d.os)):d.os={},d.device=n(t,u),s(d.device)?(d.device.name=l(d.device),d.device.version=h(d.device)):d.device={tablet:!1,family:"Other"};var f={};return e.regexes.mobile_browser_families.map(function(e){f[e]=!0}),e.regexes.mobile_os_families.map(function(e){f[e]=!0}),d.device.type="Spider"===d.browser.family?"Spider":d.browser.tablet||d.os.tablet||d.device.tablet?"Tablet":f.hasOwnProperty(d.browser.family)?"Mobile":"Desktop",d.device.manufacturer=d.browser.man||d.os.man||d.device.man||null,o([d.browser,d.os,d.device],["tablet","man"]),d},e}();"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=t),exports.detect=t):e.detect=t,"function"==typeof define&&define.amd&&define(function(){return t})}(window),function(){function e(e){return e.toLowerCase().replace(/-(.)/g,function(e,t){return t.toUpperCase()})}function t(e){return 4==e.length?["#",e.substring(1,2),e.substring(1,2),e.substring(2,3),e.substring(2,3),e.substring(3,4),e.substring(3,4)].join(""):e}function i(e){var t=e.toString(16);return 1==t.length?"0"+t:t}function r(e,t,i){return(null==t||null==i)&&(null==i?i=e.height/e.width*t:null==t&&(t=e.width/e.height*i)),{width:t,height:i}}function n(e,t){return"number"==typeof e.from?e.from+(e.to-e.from)*t:e instanceof SVG.Color||e instanceof SVG.Number?e.at(t):1>t?e.from:e.to}function o(e){for(var t=0,i=e.length,r="";i>t;t++)r+=e[t][0],null!=e[t][1]&&(r+=e[t][1],null!=e[t][2]&&(r+=" ",r+=e[t][2],null!=e[t][3]&&(r+=" ",r+=e[t][3],r+=" ",r+=e[t][4],null!=e[t][5]&&(r+=" ",r+=e[t][5],r+=" ",r+=e[t][6],null!=e[t][7]&&(r+=" ",r+=e[t][7])))));return r+" "}function a(e){e.x2=e.x+e.width,e.y2=e.y+e.height,e.cx=e.x+e.width/2,e.cy=e.y+e.height/2}function s(e){if(e.matrix){var t=e.matrix.replace(/\s/g,"").split(",");6==t.length&&(e.a=parseFloat(t[0]),e.b=parseFloat(t[1]),e.c=parseFloat(t[2]),e.d=parseFloat(t[3]),e.e=parseFloat(t[4]),e.f=parseFloat(t[5]))}return e}if(this.SVG=function(e){return SVG.supported?(e=new SVG.Doc(e),SVG.parser||SVG.prepare(e),e):void 0},SVG.ns="http://www.w3.org/2000/svg",SVG.xmlns="http://www.w3.org/2000/xmlns/",SVG.xlink="http://www.w3.org/1999/xlink",SVG.did=1e3,SVG.eid=function(e){return"Svgjs"+e.charAt(0).toUpperCase()+e.slice(1)+SVG.did++},SVG.create=function(e){var t=document.createElementNS(this.ns,e);return t.setAttribute("id",this.eid(e)),t},SVG.extend=function(){var e,t,i,r;for(e=[].slice.call(arguments),t=e.pop(),r=e.length-1;r>=0;r--)if(e[r])for(i in t)e[r].prototype[i]=t[i];SVG.Set&&SVG.Set.inherit&&SVG.Set.inherit()},SVG.get=function(e){var t=document.getElementById(e);return t?t.instance:void 0},SVG.prepare=function(e){var t=document.getElementsByTagName("body")[0],i=(t?new SVG.Doc(t):e.nested()).size(2,2),r=SVG.create("path");i.node.appendChild(r),SVG.parser={body:t||e.parent,draw:i.style("opacity:0;position:fixed;left:100%;top:100%;overflow:hidden"),poly:i.polyline().node,path:r}},SVG.supported=function(){return!!document.createElementNS&&!!document.createElementNS(SVG.ns,"svg").createSVGRect}(),!SVG.supported)return!1;SVG.invent=function(e){var t="function"==typeof e.create?e.create:function(){this.constructor.call(this,SVG.create(e.create))};return e.inherit&&(t.prototype=new e.inherit),e.extend&&SVG.extend(t,e.extend),e.construct&&SVG.extend(e.parent||SVG.Container,e.construct),t},SVG.regex={unit:/^(-?[\d\.]+)([a-z%]{0,2})$/,hex:/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,rgb:/rgb\((\d+),(\d+),(\d+)\)/,isHex:/^#[a-f0-9]{3,6}$/i,isRgb:/^rgb\(/,isCss:/[^:]+:[^;]+;?/,isBlank:/^(\s+)?$/,isNumber:/^-?[\d\.]+$/,isPercent:/^-?[\d\.]+%$/,isImage:/\.(jpg|jpeg|png|gif)(\?[^=]+.*)?/i},SVG.defaults={matrix:"1 0 0 1 0 0",attrs:{"fill-opacity":1,"stroke-opacity":1,"stroke-width":0,"stroke-linejoin":"miter","stroke-linecap":"butt",fill:"#000000",stroke:"#000000",opacity:1,x:0,y:0,cx:0,cy:0,width:0,height:0,r:0,rx:0,ry:0,offset:0,"stop-opacity":1,"stop-color":"#000000","font-size":16,"font-family":"Helvetica, Arial, sans-serif","text-anchor":"start"},trans:function(){return{x:0,y:0,scaleX:1,scaleY:1,rotation:0,skewX:0,skewY:0,matrix:this.matrix,a:1,b:0,c:0,d:1,e:0,f:0}}},SVG.Color=function(e){var i;this.r=0,this.g=0,this.b=0,"string"==typeof e?SVG.regex.isRgb.test(e)?(i=SVG.regex.rgb.exec(e.replace(/\s/g,"")),this.r=parseInt(i[1]),this.g=parseInt(i[2]),this.b=parseInt(i[3])):SVG.regex.isHex.test(e)&&(i=SVG.regex.hex.exec(t(e)),this.r=parseInt(i[1],16),this.g=parseInt(i[2],16),this.b=parseInt(i[3],16)):"object"==typeof e&&(this.r=e.r,this.g=e.g,this.b=e.b)},SVG.extend(SVG.Color,{toString:function(){return this.toHex()},toHex:function(){return"#"+i(this.r)+i(this.g)+i(this.b)},toRgb:function(){return"rgb("+[this.r,this.g,this.b].join()+")"},brightness:function(){return this.r/255*.3+this.g/255*.59+this.b/255*.11},morph:function(e){return this.destination=new SVG.Color(e),this},at:function(e){return this.destination?(e=0>e?0:e>1?1:e,new SVG.Color({r:~~(this.r+(this.destination.r-this.r)*e),g:~~(this.g+(this.destination.g-this.g)*e),b:~~(this.b+(this.destination.b-this.b)*e)})):this}}),SVG.Color.test=function(e){return e+="",SVG.regex.isHex.test(e)||SVG.regex.isRgb.test(e)},SVG.Color.isRgb=function(e){return e&&"number"==typeof e.r&&"number"==typeof e.g&&"number"==typeof e.b},SVG.Color.isColor=function(e){return SVG.Color.isRgb(e)||SVG.Color.test(e)},SVG.Array=function(e,t){e=(e||[]).valueOf(),0==e.length&&t&&(e=t.valueOf()),this.value=this.parse(e)},SVG.extend(SVG.Array,{morph:function(e){if(this.destination=this.parse(e),this.value.length!=this.destination.length){for(var t=this.value[this.value.length-1],i=this.destination[this.destination.length-1];this.value.length>this.destination.length;)this.destination.push(i);for(;this.value.length<this.destination.length;)this.value.push(t)}return this},settle:function(){for(var e=0,t=this.value.length,i=[];t>e;e++)-1==i.indexOf(this.value[e])&&i.push(this.value[e]);return this.value=i},at:function(e){if(!this.destination)return this;for(var t=0,i=this.value.length,r=[];i>t;t++)r.push(this.value[t]+(this.destination[t]-this.value[t])*e);return new SVG.Array(r)},toString:function(){return this.value.join(" ")},valueOf:function(){return this.value},parse:function(e){return e=e.valueOf(),Array.isArray(e)?e:this.split(e)},split:function(e){return e.replace(/\s+/g," ").replace(/^\s+|\s+$/g,"").split(" ")},reverse:function(){return this.value.reverse(),this}}),SVG.PointArray=function(){this.constructor.apply(this,arguments)},SVG.PointArray.prototype=new SVG.Array,SVG.extend(SVG.PointArray,{toString:function(){for(var e=0,t=this.value.length,i=[];t>e;e++)i.push(this.value[e].join(","));
return i.join(" ")},at:function(e){if(!this.destination)return this;for(var t=0,i=this.value.length,r=[];i>t;t++)r.push([this.value[t][0]+(this.destination[t][0]-this.value[t][0])*e,this.value[t][1]+(this.destination[t][1]-this.value[t][1])*e]);return new SVG.PointArray(r)},parse:function(e){if(e=e.valueOf(),Array.isArray(e))return e;e=this.split(e);for(var t,i=0,r=e.length,n=[];r>i;i++)t=e[i].split(","),n.push([parseFloat(t[0]),parseFloat(t[1])]);return n},move:function(e,t){var i=this.bbox();if(e-=i.x,t-=i.y,!isNaN(e)&&!isNaN(t))for(var r=this.value.length-1;r>=0;r--)this.value[r]=[this.value[r][0]+e,this.value[r][1]+t];return this},size:function(e,t){var i,r=this.bbox();for(i=this.value.length-1;i>=0;i--)this.value[i][0]=(this.value[i][0]-r.x)*e/r.width+r.x,this.value[i][1]=(this.value[i][1]-r.y)*t/r.height+r.x;return this},bbox:function(){return SVG.parser.poly.setAttribute("points",this.toString()),SVG.parser.poly.getBBox()}}),SVG.PathArray=function(e,t){this.constructor.call(this,e,t)},SVG.PathArray.prototype=new SVG.Array,SVG.extend(SVG.PathArray,{toString:function(){return o(this.value)},move:function(e,t){var i=this.bbox();if(e-=i.x,t-=i.y,!isNaN(e)&&!isNaN(t))for(var r,n=this.value.length-1;n>=0;n--)r=this.value[n][0],"M"==r||"L"==r||"T"==r?(this.value[n][1]+=e,this.value[n][2]+=t):"H"==r?this.value[n][1]+=e:"V"==r?this.value[n][1]+=t:"C"==r||"S"==r||"Q"==r?(this.value[n][1]+=e,this.value[n][2]+=t,this.value[n][3]+=e,this.value[n][4]+=t,"C"==r&&(this.value[n][5]+=e,this.value[n][6]+=t)):"A"==r&&(this.value[n][6]+=e,this.value[n][7]+=t);return this},size:function(e,t){var i,r,n=this.bbox();for(i=this.value.length-1;i>=0;i--)r=this.value[i][0],"M"==r||"L"==r||"T"==r?(this.value[i][1]=(this.value[i][1]-n.x)*e/n.width+n.x,this.value[i][2]=(this.value[i][2]-n.y)*t/n.height+n.y):"H"==r?this.value[i][1]=(this.value[i][1]-n.x)*e/n.width+n.x:"V"==r?this.value[i][1]=(this.value[i][1]-n.y)*t/n.height+n.y:"C"==r||"S"==r||"Q"==r?(this.value[i][1]=(this.value[i][1]-n.x)*e/n.width+n.x,this.value[i][2]=(this.value[i][2]-n.y)*t/n.height+n.y,this.value[i][3]=(this.value[i][3]-n.x)*e/n.width+n.x,this.value[i][4]=(this.value[i][4]-n.y)*t/n.height+n.y,"C"==r&&(this.value[i][5]=(this.value[i][5]-n.x)*e/n.width+n.x,this.value[i][6]=(this.value[i][6]-n.y)*t/n.height+n.y)):"A"==r&&(this.value[i][1]=this.value[i][1]*e/n.width,this.value[i][2]=this.value[i][2]*t/n.height,this.value[i][6]=(this.value[i][6]-n.x)*e/n.width+n.x,this.value[i][7]=(this.value[i][7]-n.y)*t/n.height+n.y);return this},parse:function(e){if(e instanceof SVG.PathArray)return e.valueOf();var t,i,r,n,a,s,h,l,c,u,d,f=0,p=0;for(SVG.parser.path.setAttribute("d","string"==typeof e?e:o(e)),d=SVG.parser.path.pathSegList,t=0,i=d.numberOfItems;i>t;++t)u=d.getItem(t),c=u.pathSegTypeAsLetter,"M"==c||"L"==c||"H"==c||"V"==c||"C"==c||"S"==c||"Q"==c||"T"==c||"A"==c?("x"in u&&(f=u.x),"y"in u&&(p=u.y)):("x1"in u&&(a=f+u.x1),"x2"in u&&(h=f+u.x2),"y1"in u&&(s=p+u.y1),"y2"in u&&(l=p+u.y2),"x"in u&&(f+=u.x),"y"in u&&(p+=u.y),"m"==c?d.replaceItem(SVG.parser.path.createSVGPathSegMovetoAbs(f,p),t):"l"==c?d.replaceItem(SVG.parser.path.createSVGPathSegLinetoAbs(f,p),t):"h"==c?d.replaceItem(SVG.parser.path.createSVGPathSegLinetoHorizontalAbs(f),t):"v"==c?d.replaceItem(SVG.parser.path.createSVGPathSegLinetoVerticalAbs(p),t):"c"==c?d.replaceItem(SVG.parser.path.createSVGPathSegCurvetoCubicAbs(f,p,a,s,h,l),t):"s"==c?d.replaceItem(SVG.parser.path.createSVGPathSegCurvetoCubicSmoothAbs(f,p,h,l),t):"q"==c?d.replaceItem(SVG.parser.path.createSVGPathSegCurvetoQuadraticAbs(f,p,a,s),t):"t"==c?d.replaceItem(SVG.parser.path.createSVGPathSegCurvetoQuadraticSmoothAbs(f,p),t):"a"==c?d.replaceItem(SVG.parser.path.createSVGPathSegArcAbs(f,p,u.r1,u.r2,u.angle,u.largeArcFlag,u.sweepFlag),t):("z"==c||"Z"==c)&&(f=r,p=n)),("M"==c||"m"==c)&&(r=f,n=p);for(e=[],d=SVG.parser.path.pathSegList,t=0,i=d.numberOfItems;i>t;++t)u=d.getItem(t),c=u.pathSegTypeAsLetter,f=[c],"M"==c||"L"==c||"T"==c?f.push(u.x,u.y):"H"==c?f.push(u.x):"V"==c?f.push(u.y):"C"==c?f.push(u.x1,u.y1,u.x2,u.y2,u.x,u.y):"S"==c?f.push(u.x2,u.y2,u.x,u.y):"Q"==c?f.push(u.x1,u.y1,u.x,u.y):"A"==c&&f.push(u.r1,u.r2,u.angle,0|u.largeArcFlag,0|u.sweepFlag,u.x,u.y),e.push(f);return e},bbox:function(){return SVG.parser.path.setAttribute("d",this.toString()),SVG.parser.path.getBBox()}}),SVG.Number=function(e){if(this.value=0,this.unit="","number"==typeof e)this.value=isNaN(e)?0:isFinite(e)?e:0>e?-3.4e38:3.4e38;else if("string"==typeof e){var t=e.match(SVG.regex.unit);t&&(this.value=parseFloat(t[1]),"%"==t[2]?this.value/=100:"s"==t[2]&&(this.value*=1e3),this.unit=t[2])}else e instanceof SVG.Number&&(this.value=e.value,this.unit=e.unit)},SVG.extend(SVG.Number,{toString:function(){return("%"==this.unit?~~(1e8*this.value)/1e6:"s"==this.unit?this.value/1e3:this.value)+this.unit},valueOf:function(){return this.value},plus:function(e){return this.value=this+new SVG.Number(e),this},minus:function(e){return this.plus(-new SVG.Number(e))},times:function(e){return this.value=this*new SVG.Number(e),this},divide:function(e){return this.value=this/new SVG.Number(e),this},to:function(e){return"string"==typeof e&&(this.unit=e),this},morph:function(e){return this.destination=new SVG.Number(e),this},at:function(e){return this.destination?new SVG.Number(this.destination).minus(this).times(e).plus(this):this}}),SVG.ViewBox=function(e){var t,i,r,n,o=1,a=1,s=e.bbox(),h=(e.attr("viewBox")||"").match(/-?[\d\.]+/g);for(r=new SVG.Number(e.width()),n=new SVG.Number(e.height());"%"==r.unit;)o*=r.value,r=new SVG.Number(e instanceof SVG.Doc?e.parent.offsetWidth:e.width());for(;"%"==n.unit;)a*=n.value,n=new SVG.Number(e instanceof SVG.Doc?e.parent.offsetHeight:e.height());this.x=s.x,this.y=s.y,this.width=r*o,this.height=n*a,this.zoom=1,h&&(t=parseFloat(h[0]),i=parseFloat(h[1]),r=parseFloat(h[2]),n=parseFloat(h[3]),this.zoom=this.width/this.height>r/n?this.height/n:this.width/r,this.x=t,this.y=i,this.width=r,this.height=n)},SVG.extend(SVG.ViewBox,{toString:function(){return this.x+" "+this.y+" "+this.width+" "+this.height}}),SVG.BBox=function(e){var t;if(this.x=0,this.y=0,this.width=0,this.height=0,e){try{t=e.node.getBBox()}catch(i){t={x:e.node.clientLeft,y:e.node.clientTop,width:e.node.clientWidth,height:e.node.clientHeight}}this.x=t.x+e.trans.x,this.y=t.y+e.trans.y,this.width=t.width*e.trans.scaleX,this.height=t.height*e.trans.scaleY}a(this)},SVG.extend(SVG.BBox,{merge:function(e){var t=new SVG.BBox;return t.x=Math.min(this.x,e.x),t.y=Math.min(this.y,e.y),t.width=Math.max(this.x+this.width,e.x+e.width)-t.x,t.height=Math.max(this.y+this.height,e.y+e.height)-t.y,a(t),t}}),SVG.RBox=function(e){var t,i,r={};if(this.x=0,this.y=0,this.width=0,this.height=0,e){for(t=e.doc().parent,i=e.doc().viewbox().zoom,r=e.node.getBoundingClientRect(),this.x=r.left,this.y=r.top,this.x-=t.offsetLeft,this.y-=t.offsetTop;t=t.offsetParent;)this.x-=t.offsetLeft,this.y-=t.offsetTop;for(t=e;t=t.parent;)"svg"==t.type&&t.viewbox&&(i*=t.viewbox().zoom,this.x-=t.x()||0,this.y-=t.y()||0)}this.x/=i,this.y/=i,this.width=r.width/=i,this.height=r.height/=i,a(this)},SVG.extend(SVG.RBox,{merge:function(e){var t=new SVG.RBox;return t.x=Math.min(this.x,e.x),t.y=Math.min(this.y,e.y),t.width=Math.max(this.x+this.width,e.x+e.width)-t.x,t.height=Math.max(this.y+this.height,e.y+e.height)-t.y,a(t),t}}),SVG.Element=SVG.invent({create:function(e){this._stroke=SVG.defaults.attrs.stroke,this.trans=SVG.defaults.trans(),(this.node=e)&&(this.type=e.nodeName,this.node.instance=this)},extend:{x:function(e){return null!=e&&(e=new SVG.Number(e),e.value/=this.trans.scaleX),this.attr("x",e)},y:function(e){return null!=e&&(e=new SVG.Number(e),e.value/=this.trans.scaleY),this.attr("y",e)},cx:function(e){return null==e?this.x()+this.width()/2:this.x(e-this.width()/2)},cy:function(e){return null==e?this.y()+this.height()/2:this.y(e-this.height()/2)},move:function(e,t){return this.x(e).y(t)},center:function(e,t){return this.cx(e).cy(t)},width:function(e){return this.attr("width",e)},height:function(e){return this.attr("height",e)},size:function(e,t){var i=r(this.bbox(),e,t);return this.attr({width:new SVG.Number(i.width),height:new SVG.Number(i.height)})},clone:function(){var e,t,i=this.type;return e="rect"==i||"ellipse"==i?this.parent[i](0,0):"line"==i?this.parent[i](0,0,0,0):"image"==i?this.parent[i](this.src):"text"==i?this.parent[i](this.content):"path"==i?this.parent[i](this.attr("d")):"polyline"==i||"polygon"==i?this.parent[i](this.attr("points")):"g"==i?this.parent.group():this.parent[i](),t=this.attr(),delete t.id,e.attr(t),e.trans=this.trans,e.transform({})},remove:function(){return this.parent&&this.parent.removeElement(this),this},replace:function(e){return this.after(e).remove(),e},addTo:function(e){return e.put(this)},putIn:function(e){return e.add(this)},doc:function(e){return this._parent(e||SVG.Doc)},attr:function(e,t,i){if(null==e){for(e={},t=this.node.attributes,i=t.length-1;i>=0;i--)e[t[i].nodeName]=SVG.regex.isNumber.test(t[i].nodeValue)?parseFloat(t[i].nodeValue):t[i].nodeValue;return e}if("object"==typeof e)for(t in e)this.attr(t,e[t]);else if(null===t)this.node.removeAttribute(e);else{if(null==t)return t=this.node.getAttribute(e),null==t?SVG.defaults.attrs[e]:SVG.regex.isNumber.test(t)?parseFloat(t):t;if("style"==e)return this.style(t);"stroke-width"==e?this.attr("stroke",parseFloat(t)>0?this._stroke:null):"stroke"==e&&(this._stroke=t),("fill"==e||"stroke"==e)&&(SVG.regex.isImage.test(t)&&(t=this.doc().defs().image(t,0,0)),t instanceof SVG.Image&&(t=this.doc().defs().pattern(0,0,function(){this.add(t)}))),"number"==typeof t?t=new SVG.Number(t):SVG.Color.isColor(t)?t=new SVG.Color(t):Array.isArray(t)&&(t=new SVG.Array(t)),"leading"==e?this.leading&&this.leading(t):"string"==typeof i?this.node.setAttributeNS(i,e,t.toString()):this.node.setAttribute(e,t.toString()),!this.rebuild||"font-size"!=e&&"x"!=e||this.rebuild(e,t)}return this},transform:function(e,t){if(0==arguments.length)return this.trans;if("string"==typeof e){if(arguments.length<2)return this.trans[e];var i={};return i[e]=t,this.transform(i)}var i=[];e=s(e);for(t in e)null!=e[t]&&(this.trans[t]=e[t]);return this.trans.matrix=this.trans.a+" "+this.trans.b+" "+this.trans.c+" "+this.trans.d+" "+this.trans.e+" "+this.trans.f,e=this.trans,e.matrix!=SVG.defaults.matrix&&i.push("matrix("+e.matrix+")"),0!=e.rotation&&i.push("rotate("+e.rotation+" "+(null==e.cx?this.bbox().cx:e.cx)+" "+(null==e.cy?this.bbox().cy:e.cy)+")"),(1!=e.scaleX||1!=e.scaleY)&&i.push("scale("+e.scaleX+" "+e.scaleY+")"),0!=e.skewX&&i.push("skewX("+e.skewX+")"),0!=e.skewY&&i.push("skewY("+e.skewY+")"),(0!=e.x||0!=e.y)&&i.push("translate("+new SVG.Number(e.x/e.scaleX)+" "+new SVG.Number(e.y/e.scaleY)+")"),0==i.length?this.node.removeAttribute("transform"):this.node.setAttribute("transform",i.join(" ")),this},style:function(t,i){if(0==arguments.length)return this.node.style.cssText||"";if(arguments.length<2)if("object"==typeof t)for(i in t)this.style(i,t[i]);else{if(!SVG.regex.isCss.test(t))return this.node.style[e(t)];for(t=t.split(";"),i=0;i<t.length;i++)i=t[i].split(":"),this.style(i[0].replace(/\s+/g,""),i[1])}else this.node.style[e(t)]=null===i||SVG.regex.isBlank.test(i)?null:i;return this},bbox:function(){return new SVG.BBox(this)},rbox:function(){return new SVG.RBox(this)},inside:function(e,t){var i=this.bbox();return e>i.x&&t>i.y&&e<i.x+i.width&&t<i.y+i.height},show:function(){return this.style("display","")},hide:function(){return this.style("display","none")},visible:function(){return"none"!=this.style("display")},toString:function(){return this.attr("id")},_parent:function(e){for(var t=this;null!=t&&!(t instanceof e);)t=t.parent;return t}}}),SVG.Parent=SVG.invent({create:function(e){this.constructor.call(this,e)},inherit:SVG.Element,extend:{children:function(){return this._children||(this._children=[])},add:function(e,t){return this.has(e)||(t=null==t?this.children().length:t,e.parent&&e.parent.children().splice(e.parent.index(e),1),this.children().splice(t,0,e),this.node.insertBefore(e.node,this.node.childNodes[t]||null),e.parent=this),this._defs&&(this.node.removeChild(this._defs.node),this.node.appendChild(this._defs.node)),this},put:function(e,t){return this.add(e,t),e},has:function(e){return this.index(e)>=0},index:function(e){return this.children().indexOf(e)},get:function(e){return this.children()[e]},first:function(){return this.children()[0]},last:function(){return this.children()[this.children().length-1]},each:function(e,t){var i,r,n=this.children();for(i=0,r=n.length;r>i;i++)n[i]instanceof SVG.Element&&e.apply(n[i],[i,n]),t&&n[i]instanceof SVG.Container&&n[i].each(e,t);return this},removeElement:function(e){return this.children().splice(this.index(e),1),this.node.removeChild(e.node),e.parent=null,this},clear:function(){for(var e=this.children().length-1;e>=0;e--)this.removeElement(this.children()[e]);return this._defs&&this._defs.clear(),this},defs:function(){return this.doc().defs()}}}),SVG.Container=SVG.invent({create:function(e){this.constructor.call(this,e)},inherit:SVG.Parent,extend:{viewbox:function(e){return 0==arguments.length?new SVG.ViewBox(this):(e=1==arguments.length?[e.x,e.y,e.width,e.height]:[].slice.call(arguments),this.attr("viewBox",e))}}}),SVG.FX=SVG.invent({create:function(e){this.target=e},extend:{animate:function(e,t,i){var r,o,a,s,h=this.target,l=this;return"object"==typeof e&&(i=e.delay,t=e.ease,e=e.duration),e="="==e?e:null==e?1e3:new SVG.Number(e).valueOf(),t=t||"<>",l.to=function(e){var i;if(e=0>e?0:e>1?1:e,null==r){r=[];for(s in l.attrs)r.push(s);if(h.morphArray&&(l._plot||r.indexOf("points")>-1)){var c,u=new h.morphArray(l._plot||l.attrs.points||h.array);l._size&&u.size(l._size.width.to,l._size.height.to),c=u.bbox(),l._x?u.move(l._x.to,c.y):l._cx&&u.move(l._cx.to-c.width/2,c.y),c=u.bbox(),l._y?u.move(c.x,l._y.to):l._cy&&u.move(c.x,l._cy.to-c.height/2),delete l._x,delete l._y,delete l._cx,delete l._cy,delete l._size,l._plot=h.array.morph(u)}}if(null==o){o=[];for(s in l.trans)o.push(s)}if(null==a){a=[];for(s in l.styles)a.push(s)}for(e="<>"==t?-Math.cos(e*Math.PI)/2+.5:">"==t?Math.sin(e*Math.PI/2):"<"==t?-Math.cos(e*Math.PI/2)+1:"-"==t?e:"function"==typeof t?t(e):e,l._plot?h.plot(l._plot.at(e)):(l._x?h.x(l._x.at(e)):l._cx&&h.cx(l._cx.at(e)),l._y?h.y(l._y.at(e)):l._cy&&h.cy(l._cy.at(e)),l._size&&h.size(l._size.width.at(e),l._size.height.at(e))),l._viewbox&&h.viewbox(l._viewbox.x.at(e),l._viewbox.y.at(e),l._viewbox.width.at(e),l._viewbox.height.at(e)),l._leading&&h.leading(l._leading.at(e)),i=r.length-1;i>=0;i--)h.attr(r[i],n(l.attrs[r[i]],e));for(i=o.length-1;i>=0;i--)h.transform(o[i],n(l.trans[o[i]],e));for(i=a.length-1;i>=0;i--)h.style(a[i],n(l.styles[a[i]],e));l._during&&l._during.call(h,e,function(t,i){return n({from:t,to:i},e)})},"number"==typeof e&&(this.timeout=setTimeout(function(){var r=(new Date).getTime();l.situation={interval:1e3/60,start:r,play:!0,finish:r+e,duration:e},l.render=function(){if(l.situation.play===!0){var r=(new Date).getTime(),n=r>l.situation.finish?1:(r-l.situation.start)/e;l.to(n),r>l.situation.finish?(l._plot&&h.plot(new SVG.PointArray(l._plot.destination).settle()),l._loop===!0||"number"==typeof l._loop&&l._loop>1?("number"==typeof l._loop&&--l._loop,l.animate(e,t,i)):l._after?l._after.apply(h,[l]):l.stop()):requestAnimFrame(l.render)}else requestAnimFrame(l.render)},l.render()},new SVG.Number(i).valueOf())),this},bbox:function(){return this.target.bbox()},attr:function(e,t){if("object"==typeof e)for(var i in e)this.attr(i,e[i]);else{var r=this.target.attr(e);this.attrs[e]=SVG.Color.isColor(r)?new SVG.Color(r).morph(t):SVG.regex.unit.test(r)?new SVG.Number(r).morph(t):{from:r,to:t}}return this},transform:function(e,t){if(1==arguments.length){e=s(e),delete e.matrix;for(t in e)this.trans[t]={from:this.target.trans[t],to:e[t]}}else{var i={};i[e]=t,this.transform(i)}return this},style:function(e,t){if("object"==typeof e)for(var i in e)this.style(i,e[i]);else this.styles[e]={from:this.target.style(e),to:t};return this},x:function(e){return this._x=new SVG.Number(this.target.x()).morph(e),this},y:function(e){return this._y=new SVG.Number(this.target.y()).morph(e),this},cx:function(e){return this._cx=new SVG.Number(this.target.cx()).morph(e),this},cy:function(e){return this._cy=new SVG.Number(this.target.cy()).morph(e),this},move:function(e,t){return this.x(e).y(t)},center:function(e,t){return this.cx(e).cy(t)},size:function(e,t){if(this.target instanceof SVG.Text)this.attr("font-size",e);else{var i=this.target.bbox();this._size={width:new SVG.Number(i.width).morph(e),height:new SVG.Number(i.height).morph(t)}}return this},plot:function(e){return this._plot=e,this},leading:function(e){return this.target._leading&&(this._leading=new SVG.Number(this.target._leading).morph(e)),this},viewbox:function(e,t,i,r){if(this.target instanceof SVG.Container){var n=this.target.viewbox();this._viewbox={x:new SVG.Number(n.x).morph(e),y:new SVG.Number(n.y).morph(t),width:new SVG.Number(n.width).morph(i),height:new SVG.Number(n.height).morph(r)}}return this},update:function(e){return this.target instanceof SVG.Stop&&(null!=e.opacity&&this.attr("stop-opacity",e.opacity),null!=e.color&&this.attr("stop-color",e.color),null!=e.offset&&this.attr("offset",new SVG.Number(e.offset))),this},during:function(e){return this._during=e,this},after:function(e){return this._after=e,this},loop:function(e){return this._loop=e||!0,this},stop:function(e){return e===!0?this.animate(0):(clearTimeout(this.timeout),this.attrs={},this.trans={},this.styles={},this.situation={},delete this._x,delete this._y,delete this._cx,delete this._cy,delete this._size,delete this._plot,delete this._loop,delete this._after,delete this._during,delete this._leading,delete this._viewbox),this},pause:function(){return this.situation.play===!0&&(this.situation.play=!1,this.situation.pause=(new Date).getTime()),this},play:function(){if(this.situation.play===!1){var e=(new Date).getTime()-this.situation.pause;this.situation.finish+=e,this.situation.start+=e,this.situation.play=!0}return this}},parent:SVG.Element,construct:{animate:function(e,t,i){return(this.fx||(this.fx=new SVG.FX(this))).stop().animate(e,t,i)},stop:function(e){return this.fx&&this.fx.stop(e),this},pause:function(){return this.fx&&this.fx.pause(),this},play:function(){return this.fx&&this.fx.play(),this}}}),SVG.extend(SVG.Element,SVG.FX,{dx:function(e){return this.x((this.target||this).x()+e)},dy:function(e){return this.y((this.target||this).y()+e)},dmove:function(e,t){return this.dx(e).dy(t)}}),["click","dblclick","mousedown","mouseup","mouseover","mouseout","mousemove","mouseenter","mouseleave","touchstart","touchmove","touchleave","touchend","touchcancel"].forEach(function(e){SVG.Element.prototype[e]=function(t){var i=this;return this.node["on"+e]="function"==typeof t?function(){return t.apply(i,arguments)}:null,this}}),SVG.on=function(e,t,i){e.addEventListener?e.addEventListener(t,i,!1):e.attachEvent("on"+t,i)},SVG.off=function(e,t,i){e.removeEventListener?e.removeEventListener(t,i,!1):e.detachEvent("on"+t,i)},SVG.extend(SVG.Element,{on:function(e,t){return SVG.on(this.node,e,t),this},off:function(e,t){return SVG.off(this.node,e,t),this}}),SVG.Defs=SVG.invent({create:"defs",inherit:SVG.Container}),SVG.G=SVG.invent({create:"g",inherit:SVG.Container,extend:{x:function(e){return null==e?this.trans.x:this.transform("x",e)},y:function(e){return null==e?this.trans.y:this.transform("y",e)},cx:function(e){return null==e?this.bbox().cx:this.x(e-this.bbox().width/2)},cy:function(e){return null==e?this.bbox().cy:this.y(e-this.bbox().height/2)}},construct:{group:function(){return this.put(new SVG.G)}}}),SVG.extend(SVG.Element,{siblings:function(){return this.parent.children()},position:function(){return this.parent.index(this)},next:function(){return this.siblings()[this.position()+1]},previous:function(){return this.siblings()[this.position()-1]},forward:function(){var e=this.position();return this.parent.removeElement(this).put(this,e+1)},backward:function(){var e=this.position();return e>0&&this.parent.removeElement(this).add(this,e-1),this},front:function(){return this.parent.removeElement(this).put(this)},back:function(){return this.position()>0&&this.parent.removeElement(this).add(this,0),this},before:function(e){e.remove();var t=this.position();return this.parent.add(e,t),this},after:function(e){e.remove();var t=this.position();return this.parent.add(e,t+1),this}}),SVG.Mask=SVG.invent({create:function(){this.constructor.call(this,SVG.create("mask")),this.targets=[]},inherit:SVG.Container,extend:{remove:function(){for(var e=this.targets.length-1;e>=0;e--)this.targets[e]&&this.targets[e].unmask();return delete this.targets,this.parent.removeElement(this),this}},construct:{mask:function(){return this.defs().put(new SVG.Mask)}}}),SVG.extend(SVG.Element,{maskWith:function(e){return this.masker=e instanceof SVG.Mask?e:this.parent.mask().add(e),this.masker.targets.push(this),this.attr("mask",'url("#'+this.masker.attr("id")+'")')},unmask:function(){return delete this.masker,this.attr("mask",null)}}),SVG.Clip=SVG.invent({create:function(){this.constructor.call(this,SVG.create("clipPath")),this.targets=[]},inherit:SVG.Container,extend:{remove:function(){for(var e=this.targets.length-1;e>=0;e--)this.targets[e]&&this.targets[e].unclip();return delete this.targets,this.parent.removeElement(this),this}},construct:{clip:function(){return this.defs().put(new SVG.Clip)}}}),SVG.extend(SVG.Element,{clipWith:function(e){return this.clipper=e instanceof SVG.Clip?e:this.parent.clip().add(e),this.clipper.targets.push(this),this.attr("clip-path",'url("#'+this.clipper.attr("id")+'")')},unclip:function(){return delete this.clipper,this.attr("clip-path",null)}}),SVG.Gradient=SVG.invent({create:function(e){this.constructor.call(this,SVG.create(e+"Gradient")),this.type=e},inherit:SVG.Container,extend:{from:function(e,t){return"radial"==this.type?this.attr({fx:new SVG.Number(e),fy:new SVG.Number(t)}):this.attr({x1:new SVG.Number(e),y1:new SVG.Number(t)})},to:function(e,t){return"radial"==this.type?this.attr({cx:new SVG.Number(e),cy:new SVG.Number(t)}):this.attr({x2:new SVG.Number(e),y2:new SVG.Number(t)})},radius:function(e){return"radial"==this.type?this.attr({r:new SVG.Number(e)}):this},at:function(e,t,i){return this.put(new SVG.Stop).update(e,t,i)},update:function(e){return this.clear(),"function"==typeof e&&e.call(this,this),this},fill:function(){return"url(#"+this.attr("id")+")"},toString:function(){return this.fill()}},construct:{gradient:function(e,t){return this.defs().gradient(e,t)}}}),SVG.extend(SVG.Defs,{gradient:function(e,t){return this.put(new SVG.Gradient(e)).update(t)}}),SVG.Stop=SVG.invent({create:"stop",inherit:SVG.Element,extend:{update:function(e){return("number"==typeof e||e instanceof SVG.Number)&&(e={offset:arguments[0],color:arguments[1],opacity:arguments[2]}),null!=e.opacity&&this.attr("stop-opacity",e.opacity),null!=e.color&&this.attr("stop-color",e.color),null!=e.offset&&this.attr("offset",new SVG.Number(e.offset)),this}}}),SVG.Pattern=SVG.invent({create:"pattern",inherit:SVG.Container,extend:{fill:function(){return"url(#"+this.attr("id")+")"},update:function(e){return this.clear(),"function"==typeof e&&e.call(this,this),this},toString:function(){return this.fill()}},construct:{pattern:function(e,t,i){return this.defs().pattern(e,t,i)}}}),SVG.extend(SVG.Defs,{pattern:function(e,t,i){return this.put(new SVG.Pattern).update(i).attr({x:0,y:0,width:e,height:t,patternUnits:"userSpaceOnUse"})}}),SVG.Doc=SVG.invent({create:function(e){this.parent="string"==typeof e?document.getElementById(e):e,this.constructor.call(this,"svg"==this.parent.nodeName?this.parent:SVG.create("svg")),this.attr({xmlns:SVG.ns,version:"1.1",width:"100%",height:"100%"}).attr("xmlns:xlink",SVG.xlink,SVG.xmlns),this._defs=new SVG.Defs,this._defs.parent=this,this.node.appendChild(this._defs.node),this.doSpof=!1,this.parent!=this.node&&this.stage()},inherit:SVG.Container,extend:{stage:function(){var e=this;return this.parent.appendChild(this.node),e.spof(),SVG.on(window,"resize",function(){e.spof()}),this},defs:function(){return this._defs},spof:function(){if(this.doSpof){var e=this.node.getScreenCTM();e&&this.style("left",-e.e%1+"px").style("top",-e.f%1+"px")}return this},fixSubPixelOffset:function(){return this.doSpof=!0,this}}}),SVG.Shape=SVG.invent({create:function(e){this.constructor.call(this,e)},inherit:SVG.Element}),SVG.Use=SVG.invent({create:"use",inherit:SVG.Shape,extend:{element:function(e){return this.target=e,this.attr("href","#"+e,SVG.xlink)}},construct:{use:function(e){return this.put(new SVG.Use).element(e)}}}),SVG.Rect=SVG.invent({create:"rect",inherit:SVG.Shape,construct:{rect:function(e,t){return this.put((new SVG.Rect).size(e,t))}}}),SVG.Ellipse=SVG.invent({create:"ellipse",inherit:SVG.Shape,extend:{x:function(e){return null==e?this.cx()-this.attr("rx"):this.cx(e+this.attr("rx"))},y:function(e){return null==e?this.cy()-this.attr("ry"):this.cy(e+this.attr("ry"))},cx:function(e){return null==e?this.attr("cx"):this.attr("cx",new SVG.Number(e).divide(this.trans.scaleX))},cy:function(e){return null==e?this.attr("cy"):this.attr("cy",new SVG.Number(e).divide(this.trans.scaleY))},width:function(e){return null==e?2*this.attr("rx"):this.attr("rx",new SVG.Number(e).divide(2))},height:function(e){return null==e?2*this.attr("ry"):this.attr("ry",new SVG.Number(e).divide(2))},size:function(e,t){var i=r(this.bbox(),e,t);return this.attr({rx:new SVG.Number(i.width).divide(2),ry:new SVG.Number(i.height).divide(2)})}},construct:{circle:function(e){return this.ellipse(e,e)},ellipse:function(e,t){return this.put(new SVG.Ellipse).size(e,t).move(0,0)}}}),SVG.Line=SVG.invent({create:"line",inherit:SVG.Shape,extend:{x:function(e){var t=this.bbox();return null==e?t.x:this.attr({x1:this.attr("x1")-t.x+e,x2:this.attr("x2")-t.x+e})},y:function(e){var t=this.bbox();return null==e?t.y:this.attr({y1:this.attr("y1")-t.y+e,y2:this.attr("y2")-t.y+e})},cx:function(e){var t=this.bbox().width/2;return null==e?this.x()+t:this.x(e-t)},cy:function(e){var t=this.bbox().height/2;return null==e?this.y()+t:this.y(e-t)},width:function(e){var t=this.bbox();return null==e?t.width:this.attr(this.attr("x1")<this.attr("x2")?"x2":"x1",t.x+e)},height:function(e){var t=this.bbox();return null==e?t.height:this.attr(this.attr("y1")<this.attr("y2")?"y2":"y1",t.y+e)},size:function(e,t){var i=r(this.bbox(),e,t);return this.width(i.width).height(i.height)},plot:function(e,t,i,r){return this.attr({x1:e,y1:t,x2:i,y2:r})}},construct:{line:function(e,t,i,r){return this.put((new SVG.Line).plot(e,t,i,r))}}}),SVG.Polyline=SVG.invent({create:"polyline",inherit:SVG.Shape,construct:{polyline:function(e){return this.put(new SVG.Polyline).plot(e)}}}),SVG.Polygon=SVG.invent({create:"polygon",inherit:SVG.Shape,construct:{polygon:function(e){return this.put(new SVG.Polygon).plot(e)}}}),SVG.extend(SVG.Polyline,SVG.Polygon,{morphArray:SVG.PointArray,plot:function(e){return this.attr("points",this.array=new SVG.PointArray(e,[[0,0]]))},move:function(e,t){return this.attr("points",this.array.move(e,t))},x:function(e){return null==e?this.bbox().x:this.move(e,this.bbox().y)},y:function(e){return null==e?this.bbox().y:this.move(this.bbox().x,e)},width:function(e){var t=this.bbox();return null==e?t.width:this.size(e,t.height)},height:function(e){var t=this.bbox();return null==e?t.height:this.size(t.width,e)},size:function(e,t){var i=r(this.bbox(),e,t);return this.attr("points",this.array.size(i.width,i.height))}}),SVG.Path=SVG.invent({create:"path",inherit:SVG.Shape,extend:{plot:function(e){return this.attr("d",this.array=new SVG.PathArray(e,[["M",0,0]]))},move:function(e,t){return this.attr("d",this.array.move(e,t))},x:function(e){return null==e?this.bbox().x:this.move(e,this.bbox().y)},y:function(e){return null==e?this.bbox().y:this.move(this.bbox().x,e)},size:function(e,t){var i=r(this.bbox(),e,t);return this.attr("d",this.array.size(i.width,i.height))},width:function(e){return null==e?this.bbox().width:this.size(e,this.bbox().height)},height:function(e){return null==e?this.bbox().height:this.size(this.bbox().width,e)}},construct:{path:function(e){return this.put(new SVG.Path).plot(e)}}}),SVG.Image=SVG.invent({create:"image",inherit:SVG.Shape,extend:{load:function(e){if(!e)return this;var t=this,i=document.createElement("img");return i.onload=function(){var r=t.doc(SVG.Pattern);0==t.width()&&0==t.height()&&t.size(i.width,i.height),r&&0==r.width()&&0==r.height()&&r.size(t.width(),t.height()),"function"==typeof t._loaded&&t._loaded.call(t,{width:i.width,height:i.height,ratio:i.width/i.height,url:e})},this.attr("href",i.src=this.src=e,SVG.xlink)},loaded:function(e){return this._loaded=e,this}},construct:{image:function(e,t,i){return this.put(new SVG.Image).load(e).size(t||0,i||t||0)}}}),SVG.Text=SVG.invent({create:function(){this.constructor.call(this,SVG.create("text")),this._leading=new SVG.Number(1.3),this._rebuild=!0,this._build=!1,this.attr("font-family",SVG.defaults.attrs["font-family"])},inherit:SVG.Shape,extend:{x:function(e){return null==e?this.attr("x"):(this.textPath||this.lines.each(function(){this.newLined&&this.x(e)}),this.attr("x",e))},y:function(e){var t=this.attr("y")-this.bbox().y;return null==e?this.attr("y")-t:this.attr("y",e+t)},cx:function(e){return null==e?this.bbox().cx:this.x(e-this.bbox().width/2)},cy:function(e){return null==e?this.bbox().cy:this.y(e-this.bbox().height/2)},text:function(e){if(!e)return this.content;if(this.clear().build(!0),"function"==typeof e)e.call(this,this);else{e=(this.content=SVG.regex.isBlank.test(e)?"text":e).split("\n");for(var t=0,i=e.length;i>t;t++)this.tspan(e[t]).newLine()}return this.build(!1).rebuild()},size:function(e){return this.attr("font-size",e).rebuild()},leading:function(e){return null==e?this._leading:(this._leading=new SVG.Number(e),this.rebuild())},rebuild:function(e){var t=this;return"boolean"==typeof e&&(this._rebuild=e),this._rebuild&&this.lines.each(function(){this.newLined&&(this.textPath||this.attr("x",t.attr("x")),this.attr("dy",t._leading*new SVG.Number(t.attr("font-size"))))}),this},build:function(e){return this._build=!!e,this}},construct:{text:function(e){return this.put(new SVG.Text).text(e)},plain:function(e){return this.put(new SVG.Text).plain(e)}}}),SVG.TSpan=SVG.invent({create:"tspan",inherit:SVG.Shape,extend:{text:function(e){return"function"==typeof e?e.call(this,this):this.plain(e),this},dx:function(e){return this.attr("dx",e)},dy:function(e){return this.attr("dy",e)},newLine:function(){var e=this.doc(SVG.Text);return this.newLined=!0,this.dy(e._leading*e.attr("font-size")).attr("x",e.x())}}}),SVG.extend(SVG.Text,SVG.TSpan,{plain:function(e){return this._build===!1&&this.clear(),this.node.appendChild(document.createTextNode(this.content=e)),this},tspan:function(e){var t=(this.textPath||this).node,i=new SVG.TSpan;return this._build===!1&&this.clear(),t.appendChild(i.node),i.parent=this,this instanceof SVG.Text&&this.lines.add(i),i.text(e)},clear:function(){for(var e=(this.textPath||this).node;e.hasChildNodes();)e.removeChild(e.lastChild);return this instanceof SVG.Text&&(delete this.lines,this.lines=new SVG.Set,this.content=""),this}}),SVG.TextPath=SVG.invent({create:"textPath",inherit:SVG.Element,parent:SVG.Text,construct:{path:function(e){for(this.textPath=new SVG.TextPath;this.node.hasChildNodes();)this.textPath.node.appendChild(this.node.firstChild);return this.node.appendChild(this.textPath.node),this.track=this.doc().defs().path(e),this.textPath.parent=this,this.textPath.attr("href","#"+this.track,SVG.xlink),this},plot:function(e){return this.track&&this.track.plot(e),this}}}),SVG.Nested=SVG.invent({create:function(){this.constructor.call(this,SVG.create("svg")),this.style("overflow","visible")},inherit:SVG.Container,construct:{nested:function(){return this.put(new SVG.Nested)}}}),SVG.A=SVG.invent({create:"a",inherit:SVG.Container,extend:{to:function(e){return this.attr("href",e,SVG.xlink)},show:function(e){return this.attr("show",e,SVG.xlink);
},target:function(e){return this.attr("target",e)}},construct:{link:function(e){return this.put(new SVG.A).to(e)}}}),SVG.extend(SVG.Element,{linkTo:function(e){var t=new SVG.A;return"function"==typeof e?e.call(t,t):t.to(e),this.parent.put(t).put(this)}});var h={stroke:["color","width","opacity","linecap","linejoin","miterlimit","dasharray","dashoffset"],fill:["color","opacity","rule"],prefix:function(e,t){return"color"==t?e:e+"-"+t}};["fill","stroke"].forEach(function(e){var t,i={};i[e]=function(i){if("string"==typeof i||SVG.Color.isRgb(i)||i&&"function"==typeof i.fill)this.attr(e,i);else for(t=h[e].length-1;t>=0;t--)null!=i[h[e][t]]&&this.attr(h.prefix(e,h[e][t]),i[h[e][t]]);return this},SVG.extend(SVG.Element,SVG.FX,i)}),SVG.extend(SVG.Element,SVG.FX,{rotate:function(e,t,i){return this.transform({rotation:e||0,cx:t,cy:i})},skew:function(e,t){return this.transform({skewX:e||0,skewY:t||0})},scale:function(e,t){return this.transform({scaleX:e,scaleY:null==t?e:t})},translate:function(e,t){return this.transform({x:e,y:t})},matrix:function(e){return this.transform({matrix:e})},opacity:function(e){return this.attr("opacity",e)}}),SVG.extend(SVG.Rect,SVG.Ellipse,SVG.FX,{radius:function(e,t){return this.attr({rx:e,ry:t||e})}}),SVG.extend(SVG.Path,{length:function(){return this.node.getTotalLength()},pointAt:function(e){return this.node.getPointAtLength(e)}}),SVG.extend(SVG.Parent,SVG.Text,SVG.FX,{font:function(e){for(var t in e)"leading"==t?this.leading(e[t]):"anchor"==t?this.attr("text-anchor",e[t]):"size"==t||"family"==t||"weight"==t||"stretch"==t||"variant"==t||"style"==t?this.attr("font-"+t,e[t]):this.attr(t,e[t]);return this}}),SVG.Set=SVG.invent({create:function(){this.clear()},extend:{add:function(){var e,t,i=[].slice.call(arguments);for(e=0,t=i.length;t>e;e++)this.members.push(i[e]);return this},remove:function(e){var t=this.index(e);return t>-1&&this.members.splice(t,1),this},each:function(e){for(var t=0,i=this.members.length;i>t;t++)e.apply(this.members[t],[t,this.members]);return this},clear:function(){return this.members=[],this},has:function(e){return this.index(e)>=0},index:function(e){return this.members.indexOf(e)},get:function(e){return this.members[e]},valueOf:function(){return this.members},bbox:function(){var e=new SVG.BBox;if(0==this.members.length)return e;var t=this.members[0].rbox();return e.x=t.x,e.y=t.y,e.width=t.width,e.height=t.height,this.each(function(){e=e.merge(this.rbox())}),e}},construct:{set:function(){return new SVG.Set}}}),SVG.SetFX=SVG.invent({create:function(e){this.set=e}}),SVG.Set.inherit=function(){var e,t=[];for(var e in SVG.Shape.prototype)"function"==typeof SVG.Shape.prototype[e]&&"function"!=typeof SVG.Set.prototype[e]&&t.push(e);t.forEach(function(e){SVG.Set.prototype[e]=function(){for(var t=0,i=this.members.length;i>t;t++)this.members[t]&&"function"==typeof this.members[t][e]&&this.members[t][e].apply(this.members[t],arguments);return"animate"==e?this.fx||(this.fx=new SVG.SetFX(this)):this}}),t=[];for(var e in SVG.FX.prototype)"function"==typeof SVG.FX.prototype[e]&&"function"!=typeof SVG.SetFX.prototype[e]&&t.push(e);t.forEach(function(e){SVG.SetFX.prototype[e]=function(){for(var t=0,i=this.set.members.length;i>t;t++)this.set.members[t].fx[e].apply(this.set.members[t].fx,arguments);return this}})},SVG.extend(SVG.Element,{data:function(e,t,i){if("object"==typeof e)for(t in e)this.data(t,e[t]);else if(arguments.length<2)try{return JSON.parse(this.attr("data-"+e))}catch(r){return this.attr("data-"+e)}else this.attr("data-"+e,null===t?null:i===!0||"string"==typeof t||"number"==typeof t?t:JSON.stringify(t));return this}}),SVG.extend(SVG.Element,{remember:function(e,t){if("object"==typeof arguments[0])for(var t in e)this.remember(t,e[t]);else{if(1==arguments.length)return this.memory()[e];this.memory()[e]=t}return this},forget:function(){if(0==arguments.length)this._memory={};else for(var e=arguments.length-1;e>=0;e--)delete this.memory()[arguments[e]];return this},memory:function(){return this._memory||(this._memory={})}}),"function"==typeof define&&define.amd?define(function(){return SVG}):"undefined"!=typeof exports&&(exports.SVG=SVG),window.requestAnimFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(e){window.setTimeout(e,1e3/60)}}()}.call(this);var flowSVG=function(){"use strict";function e(e){E=e,W=void 0!==E.interactive?E.interactive:!0,j=void 0!==E.showButtons?E.showButtons:!0,q=void 0!==E.scrollto?E.scrollto:!0}function t(){var e=E.w||180,t=E.h||140,i=E.arrowColour||"grey",r="rgb(66, 66, 66)",n="#fff",o="rgb(51, 51, 51)",a=E.defaultFontSize||12,s={showButtons:E.showButtons||!0,minOpacity:E.minOpacity||0,maxOpacity:E.maxOpacity||1,btnBarHeight:E.btnBarHeight||40,btnBarSelectedColour:E.btnBarSelectedColour||"black",btnBarHoverColour:E.btnBarHoverColour||"dimgrey",btnBarFontSize:E.btnBarFontSize||a,btnBarRadius:E.btnBarRadius||10,shapeWidth:E.shapeWidth||e,shapeHeight:E.shapeHeight||t,connectorLength:E.connectorLength||80,startWidth:E.startWidth||e,startHeight:E.startHeight||40,startCornerRadius:E.startCornerRadius||20,startFill:E.startFill||i,startStrokeWidth:E.startStrokeWidth||.1,startStrokeColour:E.startStrokeColour||"rgb(66, 66, 66)",startTextColour:E.startTextColour||n,startText:E.startText||"Start",startFontSize:E.startFontSize||a,decisionWidth:E.decisionWidth||E.w||e,decisionHeight:E.decisionHeight||E.h||t,decisionFill:E.decisionFill||"#8b3572",decisionTextColour:E.decisionTextColour||n,decisionFontSize:E.decisionFontSize||a,finishTextColour:E.finishTextColour||n,finishWidth:E.finishWidth||e,finishHeight:E.finishHeight||t,finishLeftMargin:E.finishLeftMargin||20,finishFill:E.finishFill||"#0F6C7E",finishFontSize:E.finishFontSize||a,finishLinkColour:E.finishLinkColour||"yellow",processWidth:E.processWidth||e,processHeight:E.processHeight||t,processLeftMargin:E.processLeftMargin||20,processFill:E.processFill||"#fff",processStrokeColour:E.processStrokeColour||r,processStrokeWidth:E.processStrokeWidth||.1,processTextColour:E.processTextColour||o,processFontSize:E.processFontSize||a,processLinkColour:E.processLinkColour||"darkblue",labelWidth:E.labelWidth||30,labelHeight:E.labelHeight||20,labelRadius:E.labelRadius||5,labelStroke:E.labelStroke||.1,labelFill:E.labelFill||i,labelOpacity:E.labelOpacity||1,labelFontSize:E.labelFontSize||a,labelTextColour:E.labelTextColour||n,arrowHeadHeight:E.arrowHeadHeight||20,arrowHeadColor:E.arrowHeadColor||i,arrowHeadOpacity:E.arrowHeadOpacity||1,connectorStrokeWidth:E.connectorStrokeWidth||1.5,connectorStrokeColour:E.connectorStrokeColour||i,tipStrokeColour:E.tipStrokeColour||r,tipStrokeWidth:E.tipStrokeWidth||.1,tipFill:E.tipFill||"#fff",tipFontSize:E.tipFontSize||a,tipMarginTop:E.tipMarginTop||10,tipMarginLeft:E.tipMarginLeft||10};return s}function i(e){for(B=e,z=0;z<B.length;z+=1)$[B[z].label]=z}function r(e){var t="0,0 "+O.arrowHeadHeight+",0 "+O.arrowHeadHeight/2+","+O.arrowHeadHeight,i=e.polygon(t).fill({color:O.arrowHeadColor,opacity:O.arrowHeadOpacity}).cx(O.arrowHeadHeight/2).cy(O.arrowHeadHeight/2);return i}function n(){var e=P.group(),t=r(e).move(-(O.arrowHeadHeight/2),O.connectorLength-O.arrowHeadHeight),i=P.line(0,0,0,O.connectorLength-O.arrowHeadHeight).attr({"stroke-width":O.connectorStrokeWidth,stroke:O.connectorStrokeColour});return e.add(i).add(t),e}function o(e,t){var i,r=t.group(),n=r.rect(O.labelWidth,O.labelHeight).radius(O.labelRadius).stroke({width:O.labelStroke}).attr({opacity:O.labelOpacity,fill:O.labelFill});return n.move(-(O.labelWidth/2),O.labelHeight/2),i=r.text(e).attr({fill:O.labelTextColour,"text-anchor":"middle","font-size":O.labelFontSize}),i.cy(n.cy()),r}function a(e){var t,i,r=H.group(),n="0,"+O.decisionHeight/2+" "+O.decisionWidth/2+",0 "+O.decisionWidth+","+O.decisionHeight/2+" "+O.decisionWidth/2+","+O.decisionHeight;return t=r.polygon(n).attr({fill:O.decisionFill,"class":"fc-rhombus"}),r.attr("class","fc-decision"),i=r.text(function(t){e.text.forEach(function(e){t.tspan(e).newLine().attr("text-anchor","middle")})}),i.fill(O.decisionTextColour).font({size:O.decisionFontSize}),i.cx(t.cx()+i.bbox().width+i.bbox().x),i.cy(t.cy()),r}function s(e){var t,i,r,n=H.group().attr({"class":"finish-group"}),o=n.rect(O.finishWidth,O.finishHeight).attr({fill:O.finishFill,"class":"fc-finish"}).radius(20),a=n.group();return a.text(function(t){e.text.forEach(function(e){t.tspan(e).newLine()})}).fill(O.finishTextColour).font({size:O.finishFontSize}),e.links&&e.links.forEach(function(e){var t,i=P.link(e.url),r=P.text(e.text);i.add(r),e.target&&i.target(e.target),r.fill(O.finishLinkColour).font({size:O.finishFontSize}),t=a.bbox(),r.dmove(0,t.height+5),a.add(i)}),e.tip&&(t=n.text(e.tip.title).fill(O.finishLinkColour).font({size:O.finishFontSize}).attr("cursor","pointer"),t.move(O.finishLeftMargin,o.height()-25),t.on("mouseover",function(){i=n.group(),r=n.text(function(t){e.tip.text.forEach(function(e){t.tspan(e).newLine()})}).font({size:O.tipFontSize}).move(O.tipMarginLeft,O.tipMarginTop);var t=i.rect(O.shapeWidth-O.finishLeftMargin,r.bbox().height+2*O.tipMarginTop).attr({fill:O.tipFill,stroke:O.tipStrokeColour,"class":"fc-tip"});i.add(r),i.x(O.finishLeftMargin/2),i.y(this.getAttribute("y")-t.height())}).on("mouseout",function(){i.remove()})),a.move(O.finishLeftMargin,(o.height()-a.bbox().height)/2-5),n}function h(e){var t=H.group().attr({"class":"process-group"}),i=t.rect(O.processWidth,O.processHeight).attr({fill:O.processFill,stroke:O.processStrokeColour,"class":"fc-process"}),r=t.group();return r.text(function(t){e.text.forEach(function(e){t.tspan(e).newLine()})}).font({size:O.processFontSize}),e.links&&e.links.forEach(function(e){var t,i=P.link(e.url),n=P.text(e.text);i.add(n),e.target&&i.target(e.target),n.fill(O.processLinkColour).font({size:O.processFontSize}),t=r.bbox(),n.dmove(0,t.height+5),r.add(i)}),r.move(O.finishLeftMargin,(i.height()-r.bbox().height)/2-5),t}function l(e){var t,i,r,o,a=P.group().attr({"class":"fc-start"});return r=a.rect(O.startWidth,O.startHeight).attr({fill:O.startFill,"stroke-width":O.startStrokeWidth,stroke:O.startStrokeWidth}).radius(O.startCornerRadius),T=a.attr("id"),A=n(),t=a.text(function(e){e.tspan(O.startText).newLine().attr({"text-anchor":"middle","font-size":O.startFontSize,fill:O.startTextColour})}),i=r.bbox(),A.move(i.cx,i.height),t.move(i.cx),t.cy(i.cy),a.add(A),W===!0&&(a.attr({cursor:"pointer"}),a.click(function(){var t=e[0].svgid;if(e[0].show===!1)e[0].show=!0,t.animate().opacity(O.maxOpacity),t.attr("visibility","visible");else{for(t.animate().opacity(O.minOpacity),t.attr("visibility","hidden"),e[0].show=!1,o=0;o<D.length;o+=1)e[$[D[o]]].svgid.animate().opacity(O.minOpacity),e[$[D[o]]].show=!1,e[$[D[o]]].attr("visibility","hidden");D.splice(0,D.length-1)}})),a}function c(e){P=e,H=P.group()}function u(){P.clear(),W=!1,c(P),M(B)}function d(){P.clear(),W=!0,c(P),M(B)}function f(){var e,t,i,r=P.group().attr({cursor:"pointer"}),n=(O.startWidth-5)/2,o=r.rect(n,O.btnBarHeight).fill(O.startFill).radius(O.btnBarRadius);return r.text("Interactive").attr({fill:O.startTextColour,"font-size":O.btnBarFontSize,"pointer-events":"none"}).cy(O.btnBarHeight/2).cx(n/2),e=r.rect(n,O.btnBarHeight).fill(O.startFill).radius(O.btnBarRadius).move(n+5,0),r.text("Static").attr({fill:O.startTextColour,"font-size":O.btnBarFontSize,"pointer-events":"none"}).cy(O.btnBarHeight/2).cx(1.5*n+5),W===!0&&o.fill(O.btnBarSelectedColour),W===!1&&e.fill(O.btnBarSelectedColour),t=o.attr("fill"),i=e.attr("fill"),o.on("mouseover",function(){o.fill({color:O.btnBarHoverColour})}).on("mouseout",function(){o.fill({color:t})}).on("click",function(){W=!0,o.fill(O.btnBarSelectedColour),e.fill(O.startFill),d()}).on("mousedown",function(){o.fill(O.btnBarSelectedColour)}),e.on("mouseover",function(){e.fill({color:O.btnBarHoverColour})}).on("mouseout",function(){e.fill({color:i})}).on("click",function(){W=!1,e.fill(O.btnBarSelectedColour),o.fill(O.startFill),u()}).on("mousedown",function(){e.fill(O.btnBarSelectedColour)}),r}function p(e,t){if(!e.type||"function"!=typeof C[e.type])return console.log(e.type+" is not a valid shape."),!1;var i=C[e.type](e);e.id=i.attr("id"),e.svgid=i,e.svgshape=i.get(0),I[e.label]=e.id,R[e.id]=t,W===!1?(e.show=!0,i.opacity(O.maxOpacity)):(e.show=!1,i.attr("visibility","hidden"),i.opacity(O.minOpacity))}function m(e){e.yes&&(e.yesid=I[e.yes],e.svgyesid=SVG.get(I[e.yes])),e.no&&(e.noid=I[e.no],e.svgnoid=SVG.get(I[e.no])),e.next&&(e.nextid=I[e.next],e.svgnextid=SVG.get(I[e.next]))}function g(e){var t;e.orient||(e.orient={yes:"b",no:"r",next:"b"}),e.yes&&(t=$[e.yes],B[t]&&(B[t].previd=e.id,B[t].prev=e.label,B[t].svgprevid=SVG.get(e.id),"b"===e.orient.yes&&(B[t].isBelow=e.id,B[t].svgisBelow=SVG.get(e.id)),"r"===e.orient.yes&&(B[t].isRightOf=e.id,B[t].svgisRightOf=SVG.get(e.id)))),e.no&&(t=$[e.no],B[t]&&(B[t].previd=e.id,B[t].prev=e.label,B[t].svgprevid=SVG.get(e.id),"b"===e.orient.no&&(B[t].isBelow=e.id,B[t].svgisBelow=SVG.get(e.id)),"r"===e.orient.no&&(B[t].isRightOf=e.id,B[t].svgisRightOf=SVG.get(e.id)))),e.next&&(t=$[e.next],B[t]&&(B[t].previd=e.id,B[t].prev=e.label,B[t].svgprevid=SVG.get(e.id),"b"===e.orient.next&&(B[t].isBelow=e.id,B[t].svgisBelow=SVG.get(e.id)),"r"===e.orient.next&&(B[t].isRightOf=e.id,B[t].svgisRightOf=SVG.get(e.id))))}function x(e,t){var i,r,n=e.svgid;0===t&&(e.isBelow=T),!e.inNode&&e.isBelow&&(e.inNode="t"),!e.inNode&&e.isRightOf&&(e.inNode="l"),e.isBelow&&(0===t?n.move(0,0):(r=e.svgisBelow,n.move(r.x(),r.y()+r.bbox().height+O.connectorLength))),e.isRightOf&&(i=W===!1&&void 0!==e.moveRight?e.moveRight:O.connectorLength,r=e.svgisRightOf,n.move(r.x()+r.bbox().width+i,r.y()))}function y(e){var t,i;for(t=e;t<D.length;t+=1)i=B[$[D[t]]],i.show=!1,i.svgid.animate().opacity(O.minOpacity),i.svgid.attr("visibility","hidden");D.splice(e,D.length)}function v(e){var t,i,r=e.svgid,n=H.group();e.yes&&void 0!==e.yesid&&(t=e.svgyesid,i=B[$[e.yes]],"t"===i.inNode&&(i.inNodePos=[t.cx(),t.y()]),"b"===e.orient.yes&&(e.yesOutPos=[r.cx(),r.cy()+r.get(0).cy()],i.inNode=void 0!==i.inNode?i.inNode:"t","l"===i.inNode&&(i.inNodePos=[t.x()-O.arrowHeadHeight,t.cy()])),"r"===e.orient.yes&&(e.yesOutPos=[r.x()+r.get(0).width(),r.cy()],i.inNode=void 0!==i.inNode?i.inNode:"l","l"===i.inNode&&(i.inNodePos=[t.x(),t.cy()])),Z.push(e.yesid)),e.no&&void 0!==e.noid&&(i=B[$[e.no]],t=e.svgnoid,"b"===e.orient.no&&(e.noOutPos=[r.cx(),r.cy()+r.get(0).cy()],i.inNode=void 0!==i.inNode?i.inNode:"t",i.inNodePos=[t.cx(),t.y()]),"r"===e.orient.no&&(e.noOutPos=[r.cx()+r.get(0).cx(),r.cy()],i.inNode=void 0!==i.inNode?i.inNode:"l","t"===i.inNode&&(i.inNodePos=[t.cx(),t.y()]),"l"===i.inNode&&(i.inNodePos=[t.x(),t.cy()])),Z.push(e.noid)),e.next&&(i=B[$[e.next]],"b"===e.orient.next&&(e.nextOutPos=[r.cx(),r.cy()+r.get(0).cy()],i.inNode=void 0!==i.inNode?i.inNode:"t","t"===i.inNode&&(t=e.svgnextid,i.inNodePos=[t.cx(),t.y()]),"l"===i.inNode&&(t=e.svgnoid,i.inNodePos=[t.x(),t.cy()])),"r"===e.orient.next&&(e.nextOutPos=[r.x()+r.get(0).width(),r.y()+r.get(0).cy()],i.inNode=void 0!==i.inNode?i.inNode:"l",t=e.svgnextid,"t"===i.inNode&&(i.inNodePos=[t.cx(),t.y()]),"l"===i.inNode&&(i.inNodePos=[t.x(),t.cy()])),Z.push(e.nextid)),n.back(),e.conngroup=n}function b(e){var t,i,r=e.svgshape;e.yes&&void 0!==e.yesid&&(t=B[$[e.yes]].svgshape,i=B[$[e.yes]],"t"===i.inNode&&(i.inNodePos=[t.cx(),t.y()]),"b"===e.orient.yes&&(e.yesOutPos=[r.cx(),r.y()+r.bbox().height],i.inNode=void 0!==i.inNode?i.inNode:"t","l"===i.inNode&&(i.inNodePos=[t.x()-O.arrowHeadHeight,t.cy()])),"r"===e.orient.yes&&(e.yesOutPos=[r.x()+r.width(),r.cy()],i.inNode=void 0!==i.inNode?i.inNode:"l","l"===i.inNode&&(i.inNodePos=[t.x(),t.cy()])),Z.push(e.yesid)),e.no&&void 0!==e.noid&&(i=B[$[e.no]],t=B[$[e.no]].svgshape,"b"===e.orient.no&&(e.noOutPos=[r.cx(),r.y()+r.bbox().height],i.inNode=void 0!==i.inNode?i.inNode:"t",i.inNodePos=[t.cx(),t.y()]),"r"===e.orient.no&&(e.noOutPos=[r.x()+r.bbox().width,r.cy()],i.inNode=void 0!==i.inNode?i.inNode:"l","t"===i.inNode&&(i.inNodePos=[t.cx(),t.y()]),"l"===i.inNode&&(i.inNodePos=[t.x(),t.cy()])),Z.push(e.noid)),e.next&&(i=B[$[e.next]],"b"===e.orient.next&&(e.nextOutPos=[r.cx(),r.bbox().height+r.y()],i.inNode=void 0!==i.inNode?i.inNode:"t","t"===i.inNode&&(t=B[$[e.next]].svgshape,i.inNodePos=[t.cx(),t.y()]),"l"===i.inNode&&(t=e.svgnoid,i.inNodePos=[t.x(),t.cy()])),"r"===e.orient.next&&(e.nextOutPos=[r.x()+r.bbox().width,r.cy()],i.inNode=void 0!==i.inNode?i.inNode:"l",t=B[$[e.next]].svgshape,"t"===i.inNode&&(i.inNodePos=[t.cx(),t.y()]),"l"===i.inNode&&(i.inNodePos=[t.x(),t.cy()])),Z.push(e.nextid))}function S(e){var t,i=e.svgid;e.yes&&void 0!==e.yesid&&(t=o("Yes",i),e.yesBtn=t,t.attr("cursor","pointer"),t.on("click",function(){L(e,"yes")}),"b"===e.orient.yes&&t.move(e.yesOutPos[0],e.yesOutPos[1]),"r"===e.orient.yes&&t.move(e.yesOutPos[0]+20,e.yesOutPos[1]-20)),e.no&&void 0!==e.noid&&(t=o("No",i),e.noBtn=t,t.attr("cursor","pointer"),t.on("click",function(){L(e,"no")}),"b"===e.orient.no&&t.move(e.noOutPos[0],e.noOutPos[1]),"r"===e.orient.no&&t.move(e.noOutPos[0]+20,e.noOutPos[1]-20))}function w(e){var t,i=e.conngroup;e.yes&&void 0!==e.yesid&&(t=o("Yes",i),"b"===e.orient.yes&&t.move(e.yesOutPos[0],e.yesOutPos[1]),"r"===e.orient.yes&&t.move(e.yesOutPos[0]+20,e.yesOutPos[1]-20)),e.no&&void 0!==e.noid&&(t=o("No",i),"b"===e.orient.no&&t.move(e.noOutPos[0],e.noOutPos[1]),"r"===e.orient.no&&t.move(e.noOutPos[0]+20,e.noOutPos[1]-20))}function G(e){var t,i,n,o,a,s=e.svgid;i=e.svgshape.x()+e.svgshape.bbox().width+O.connectorLength-O.arrowHeadHeight,n=e.svgshape.cy()-O.arrowHeadHeight/2,o=e.svgshape.cx()-O.arrowHeadHeight/2,a=e.svgshape.y()+e.svgshape.bbox().height+O.connectorLength-O.arrowHeadHeight,void 0!==e.svgyesid&&("r"===e.orient.yes&&(t=r(s),t.move(i,n),t.rotate(270)),"b"===e.orient.yes&&(t=r(s),t.move(o,a))),void 0!==e.svgnoid&&("r"===e.orient.no&&(t=r(s),t.move(i,n),t.rotate(270)),"b"===e.orient.no&&(t=r(s),t.move(o,a))),void 0!==e.svgnextid&&("r"===e.orient.next&&(t=r(s),t.move(i,n),t.rotate(270)),"b"===e.orient.next&&(t=r(s),t.move(o,a)))}function V(e){var t,i,n=e.conngroup;e.yes&&void 0!==e.yesid&&(t=r(n),i=B[$[e.yes]],"b"===e.orient.yes&&(t.move(i.inNodePos[0]-O.arrowHeadHeight/2,i.inNodePos[1]-O.arrowHeadHeight),"l"===i.inNode&&t.rotate(270)),"r"===e.orient.yes&&(t.move(i.inNodePos[0]-O.arrowHeadHeight/2,i.inNodePos[1]-O.arrowHeadHeight),"l"===i.inNode&&(t.move(i.inNodePos[0]-O.arrowHeadHeight,i.inNodePos[1]-O.arrowHeadHeight/2),t.rotate(270)))),e.no&&void 0!==e.noid&&(t=r(n),i=B[$[e.no]],"b"===e.orient.no&&t.move(i.inNodePos[0]-O.arrowHeadHeight/2,i.inNodePos[1]-O.arrowHeadHeight),"r"===e.orient.no&&(t.move(i.inNodePos[0]-O.arrowHeadHeight,i.inNodePos[1]-O.arrowHeadHeight/2),t.rotate(270))),e.next&&void 0!==e.nextid&&(t=r(n),i=B[$[e.next]],"b"===e.orient.next&&(t.move(i.inNodePos[0]-O.arrowHeadHeight/2,i.inNodePos[1]-O.arrowHeadHeight),"l"===i.inNode&&t.rotate(270)),"r"===e.orient.next&&(t.move(i.inNodePos[0]-O.arrowHeadHeight,i.inNodePos[1]-O.arrowHeadHeight/2),t.rotate(270)))}function _(e,t,i){var r,n,o,a,s,h,l=i.svgshape,c=2*O.arrowHeadHeight;return e[1]===l.y()+l.height()?(r=e,n=[e[0],e[1]+c],t[1]>e[1]&&(n=[e[0],t[1]-c],o=[t[0],t[1]-c]),t[0]<e[0]&&(o=[t[0],t[1]-c]),t[1]<=e[1]&&(o=[t[0],t[1]+c]),h=[t[0],t[1]-O.arrowHeadHeight],[r,n,o,h]):e[0]<t[0]&&e[1]>t[1]?(r=e,n=[e[0]+c,e[1]],o=[e[0]+c,t[1]-c],a=[t[0],t[1]-c],h=[t[0],t[1]-O.arrowHeadHeight],[r,n,o,a,h]):e[0]>t[0]&&e[1]<t[1]?(r=e,n=[e[0]+c,e[1]],o=[e[0]+c,t[1]-O.shapeHeight/2-c],a=[t[0]-c,t[1]-O.shapeHeight/2-c],s=[t[0]-c,t[1]],h=[t[0],t[1]-O.arrowHeadHeight],[r,n,o,a,s,h]):e[0]<t[0]&&e[1]<t[1]?(r=e,n=[e[0],e[1]+c],o=[t[0],e[1]+c],h=[t[0],t[1]-O.arrowHeadHeight],[r,n,o,h]):(e[1]<t[1]?h=[t[0],t[1]-O.arrowHeadHeight]:e[0]<t[0]&&(h=[t[0]-O.arrowHeadHeight,t[1]]),[e,h])}function k(e){var t,i;e.yesid&&(t=e.yesOutPos,"b"===e.orient.yes&&(i=[t[0],t[1]+O.connectorLength]),"r"===e.orient.yes&&(i=[t[0]+O.connectorLength,t[1]]),e.svgid.polyline(_(t,i,e)).stroke({width:O.connectorStrokeWidth,color:O.connectorStrokeColour}).fill("none")),e.noid&&(t=e.noOutPos,"b"===e.orient.no&&(i=[t[0],t[1]+O.connectorLength]),"r"===e.orient.no&&(i=[t[0]+O.connectorLength,t[1]]),e.svgid.polyline(_(t,i,e)).stroke({width:O.connectorStrokeWidth,color:O.connectorStrokeColour}).fill("none")),e.nextid&&(t=e.nextOutPos,"b"===e.orient.next&&(i=[t[0],t[1]+O.connectorLength]),"r"===e.orient.next&&(i=[t[0]+O.connectorLength,t[1]]),void 0===i&&(i=B[$[e.next]].yesOutPos),e.svgid.polyline(_(t,i,e)).stroke({width:O.connectorStrokeWidth,color:O.connectorStrokeColour}).fill("none"))}function N(e){var t,i;e.yesid&&(t=e.yesOutPos,i=B[$[e.yes]].inNodePos,e.conngroup.polyline(_(t,i,e)).stroke({width:O.connectorStrokeWidth,color:O.connectorStrokeColour}).fill("none")),e.noid&&(t=e.noOutPos,i=B[$[e.no]].inNodePos,e.conngroup.polyline(_(t,i,e)).stroke({width:O.connectorStrokeWidth,color:O.connectorStrokeColour}).fill("none")),e.nextid&&(t=e.nextOutPos,i=B[$[e.next]].inNodePos,void 0===i&&(i=B[$[e.next]].yesOutPos),e.conngroup.polyline(_(t,i,e)).stroke({width:O.connectorStrokeWidth,color:O.connectorStrokeColour}).fill("none"))}var P,A,C,z,O,B,H,M,F,T,L,E={},W=!0,I={},R={},$={},Z=[],D=[],j=!0,q=!0;return C={decision:a,finish:s,process:h},L=function(e,t){var i,r,n,o,a,s,h,l,c,u,d;if("yes"===t){if(B[$[e.yes]].show===!0&&B[$[e.no]].show===!1)return r=D.indexOf(e.yes),y(r),void(n=e.id);r=D.indexOf(e.no),r>-1&&y(r),-1===D.indexOf(e.yes)&&D.push(e.yes),"b"===e.orient.yes&&(e.svgyesid.move(e.svgid.x(),e.svgid.y()+e.svgid.bbox().height),void 0!==B[$[e.yes]].svgnextid&&B[$[e.yes]].svgnextid.move(e.svgyesid.x(),e.svgyesid.bbox().y+e.svgyesid.bbox().height)),"r"===e.orient.yes&&(e.svgyesid.move(e.svgid.x()+e.svgid.bbox().width,e.svgid.y()),void 0!==B[$[e.yes]].svgnextid&&B[$[e.yes]].svgnextid.move(e.svgyesid.x(),e.svgyesid.bbox().y+e.svgyesid.bbox().height)),e.svgyesid.animate().opacity(O.maxOpacity),n=e.yesid,e.svgyesid.attr("visibility","visible"),B[$[e.yes]].show=!0,B[$[e.no]].svgid.animate().opacity(O.minOpacity),B[$[e.no]].svgid.attr("visibility","hidden"),B[$[e.no]].show=!1,void 0!==B[$[e.yes]].next&&(i=B[$[e.yes]].next,D.push(i),B[$[i]].svgid.animate().opacity(O.maxOpacity),B[$[i]].svgid.attr("visibility","visible"),B[$[i]].show=!0,n=B[$[i]].id)}if("no"===t){if(B[$[e.no]].show===!0)return r=D.indexOf(e.no),y(r),void(n=e.id);r=D.indexOf(e.yes),r>-1&&y(r),-1===D.indexOf(e.no)&&D.push(e.no),"b"===e.orient.no&&(e.svgnoid.move(e.svgid.x(),e.svgid.y()+e.svgid.bbox().height),void 0!==B[$[e.no]].svgnextid&&B[$[e.no]].svgnextid.move(e.svgnoid.x(),e.svgnoid.bbox().y+e.svgnoid.bbox().height)),"r"===e.orient.no&&(e.svgnoid.move(e.svgid.x()+e.svgid.bbox().width,e.svgid.y()),void 0!==B[$[e.no]].svgnextid&&B[$[e.no]].svgnextid.move(e.svgnoid.x(),e.svgnoid.bbox().y+e.svgnoid.bbox().height)),e.svgnoid.animate().opacity(O.maxOpacity),n=e.noid,e.svgnoid.attr("visibility","visible"),B[$[e.no]].show=!0,void 0!==B[$[e.no]].next&&(i=B[$[e.no]].next,D.push(i),B[$[i]].show=!0,B[$[i]].svgid.animate().opacity(O.maxOpacity),B[$[i]].svgid.attr("visibility","visible"),n=B[$[i]].id)}q===!0&&(o=window.innerHeight,a=P.attr("id"),s=document.getElementById(a),h=document.getElementById(n),l=SVG.get(n).bbox(),c=s.createSVGPoint(),u=h.getCTM(),d=c.matrixTransform(u).y+l.height+s.parentNode.offsetTop+20,d>o&&(window.jQuery&&window.jQuery.scrollTo?jQuery.scrollTo(d-o,1e3):window.scrollTo(0,d-o)))},M=function(e){B=e;var r;O=t(),j===!0&&(r=f()),F=l(B),void 0!==r&&F.y(r.bbox().height+10),H.y(F.y()+F.bbox().height),B.forEach(p),B.forEach(m),i(B),B.forEach(g),B.forEach(x),W===!0&&(B.forEach(b),B.forEach(k),B.forEach(S),B.forEach(G)),W===!1&&(B.forEach(v),B.forEach(N),B.forEach(w),B.forEach(V))},{config:e,draw:c,shapes:M}}();flowSVG.draw(SVG("flowchart").size(340,1100)),flowSVG.config({interactive:!0,showButtons:!0,connectorLength:60,defaultFontSize:"13",w:140,h:100,decisionFill:"#07A6E6",scrollto:!1}),flowSVG.shapes([{label:"inputValidation",type:"decision",text:["Input ","validation"],yes:"CheckForValidSets",no:"ErrorMessage1"},{label:"ErrorMessage1",type:"finish",fill:"red",w:10,h:20,text:["Error ","message"]},{label:"CheckForValidSets",type:"decision",text:["Check for ","valid sets"],yes:"CheckForDegenerate",no:"ErrorMessage2"},{label:"ErrorMessage2",type:"finish",text:["Error ","message"]},{label:"CheckForDegenerate",type:"decision",text:["Check for","Degenerate"],orient:{yes:"r",no:"b"},yes:"Degenerate",no:"CheckForEquilateral"},{label:"Degenerate",type:"finish",text:["Degenerate","triangle"]},{label:"CheckForEquilateral",type:"decision",text:["Check for","Equilateral"],orient:{yes:"r",no:"b"},yes:"Equilateral",no:"CheckForIsosceles"},{label:"Equilateral",type:"finish",text:["Equilateral","triangle"]},{label:"CheckForIsosceles",type:"decision",text:["Check for","Isosceles"],orient:{yes:"r",no:"b"},yes:"Isosceles",no:"Scalene"},{label:"Isosceles",type:"finish",text:["Isosceles","triangle"]},{label:"Scalene",type:"finish",text:["Scalene triangle"]}]),function(e){"use strict";e(["jquery"],function(e){function t(t){return e.isFunction(t)||e.isPlainObject(t)?t:{top:t,left:t}}var i=e.scrollTo=function(t,i,r){return e(window).scrollTo(t,i,r)};return i.defaults={axis:"xy",duration:0,limit:!0},i.window=function(t){return e(window)._scrollable()},e.fn._scrollable=function(){return this.map(function(){var t=this,i=!t.nodeName||-1!=e.inArray(t.nodeName.toLowerCase(),["iframe","#document","html","body"]);if(!i)return t;var r=(t.contentWindow||t).document||t.ownerDocument||t;return/webkit/i.test(navigator.userAgent)||"BackCompat"==r.compatMode?r.body:r.documentElement})},e.fn.scrollTo=function(r,n,o){return"object"==typeof n&&(o=n,n=0),"function"==typeof o&&(o={onAfter:o}),"max"==r&&(r=9e9),o=e.extend({},i.defaults,o),n=n||o.duration,o.queue=o.queue&&o.axis.length>1,o.queue&&(n/=2),o.offset=t(o.offset),o.over=t(o.over),this._scrollable().each(function(){function a(e){l.animate(u,n,o.easing,e&&function(){e.call(this,c,o)})}if(null!=r){var s,h=this,l=e(h),c=r,u={},d=l.is("html,body");switch(typeof c){case"number":case"string":if(/^([+-]=?)?\d+(\.\d+)?(px|%)?$/.test(c)){c=t(c);break}if(c=d?e(c):e(c,this),!c.length)return;case"object":(c.is||c.style)&&(s=(c=e(c)).offset())}var f=e.isFunction(o.offset)&&o.offset(h,c)||o.offset;e.each(o.axis.split(""),function(e,t){var r="x"==t?"Left":"Top",n=r.toLowerCase(),p="scroll"+r,m=h[p],g=i.max(h,t);if(s)u[p]=s[n]+(d?0:m-l.offset()[n]),o.margin&&(u[p]-=parseInt(c.css("margin"+r))||0,u[p]-=parseInt(c.css("border"+r+"Width"))||0),u[p]+=f[n]||0,o.over[n]&&(u[p]+=c["x"==t?"width":"height"]()*o.over[n]);else{var x=c[n];u[p]=x.slice&&"%"==x.slice(-1)?parseFloat(x)/100*g:x}o.limit&&/^\d+$/.test(u[p])&&(u[p]=u[p]<=0?0:Math.min(u[p],g)),!e&&o.queue&&(m!=u[p]&&a(o.onAfterFirst),delete u[p])}),a(o.onAfter)}}).end()},i.max=function(t,i){var r="x"==i?"Width":"Height",n="scroll"+r;if(!e(t).is("html,body"))return t[n]-e(t)[r.toLowerCase()]();var o="client"+r,a=t.ownerDocument.documentElement,s=t.ownerDocument.body;return Math.max(a[n],s[n])-Math.min(a[o],s[o])},i})}("function"==typeof define&&define.amd?define:function(e,t){"undefined"!=typeof module&&module.exports?module.exports=t(require("jquery")):t(jQuery)});